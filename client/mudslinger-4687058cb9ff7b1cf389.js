!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.EventHook=void 0;var o=function(){function t(){this.handlers=[]}return t.prototype.handle=function(t,e){this.handlers.push([t,e])},t.prototype.release=function(t){for(var e=0;e<this.handlers.length;e++){var n=this.handlers[e];n&&n[0]==t&&(this.handlers.splice(e,1),e--)}},t.prototype.fire=function(t){var e,n;if(this.handlers.length<1)return!1;try{for(var o=i(this.handlers),s=o.next();!s.done;s=o.next()){var a=r(s.value,2),c=a[0],l=a[1];c.call(l,t)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return!0},t}();e.EventHook=o},function(t,e,n){"use strict";var i=n(38),r=Object.prototype.toString;function o(t){return"[object Array]"===r.call(t)}function s(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===r.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:s,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:c,isStream:function(t){return a(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return e},deepMerge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]="object"==typeof n?t({},n):n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return e},extend:function(t,e,n){return l(e,(function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.utf8decode=e.utf8encode=e.Acknowledge=e.stripHtml=e.rawToHtml=e.replaceLf=e.replaceAmp=e.replaceLtGt=void 0;var i=n(6);function r(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(t){return t.replace(/&/g,"&amp;")}function s(t){return t.replace(/\n/g,"<br>")}e.replaceLtGt=r,e.replaceAmp=o,e.replaceLf=s,e.rawToHtml=function(t){return"string"!=typeof t&&(t=(t=JSON.stringify(t)).slice(1,t.length-1)),t},e.stripHtml=function(t){for(var e=!1,n=[],i=0;i<t.length;i++)"<"==t[i]&&(e=!0),e||n.push(t[i]),">"==t[i]&&(e=!1);return n.join("")},e.Acknowledge=function(t,e){"true"!=localStorage.getItem("ack_"+t)&&i.messagebox("Informazione",e,(function(){localStorage.setItem("ack_"+t,"true")}),"OK","",500,null)},e.utf8encode=function(t){for(var e=[],n=0;n<t.length;++n){var i=t.charCodeAt(n);i<128?e.push(i):i<2048?e.push(192|i>>6,128|63&i):i<55296||i>=57344?e.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return new Uint8Array(e)},e.utf8decode=function(t){var e,n,i,r,o,s,a;for(e="",i=t.length,n=0;n<i;)switch((r=t[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(r);break;case 12:case 13:if(n+1>i)return{result:e,partial:t.slice(n-1)};o=t[n++],e+=String.fromCharCode((31&r)<<6|63&o);break;case 14:if(n+2>i)return{result:e,partial:t.slice(n-1)};o=t[n++],s=t[n++],e+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&s)<<0);break;case 15:if(n+3>i)return{result:e,partial:t.slice(n-1)};o=t[n++],s=t[n++],a=t[n++],e+=String.fromCodePoint((7&r)<<18|(63&o)<<12|(63&s)<<6|63&a)}return{result:e,partial:null}}},function(t,e,n){var i,r=n(79),o=n(31),s=n(80),a=n(81),c=n(82);"undefined"!=typeof ArrayBuffer&&(i=n(83));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=l||u;e.protocol=3;var f=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=r(f),d={type:"error",data:"parser error"},g=n(84);function m(t,e,n){for(var i=new Array(t.length),r=a(t.length,n),o=function(t,n,r){e(n,(function(e,n){i[t]=n,r(e,i)}))},s=0;s<t.length;s++)o(s,t[s],r)}e.encodePacket=function(t,n,i,r){"function"==typeof n&&(r=n,n=!1),"function"==typeof i&&(r=i,i=null);var o=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var r=t.data,o=new Uint8Array(r),s=new Uint8Array(1+r.byteLength);s[0]=f[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return i(s.buffer)}(t,n,r);if(void 0!==g&&o instanceof g)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);if(h)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var r=new FileReader;return r.onload=function(){e.encodePacket({type:t.type,data:r.result},n,!0,i)},r.readAsArrayBuffer(t.data)}(t,n,i);var r=new Uint8Array(1);r[0]=f[t.type];var o=new g([r.buffer,t.data]);return i(o)}(t,n,r);if(o&&o.base64)return function(t,n){var i="b"+e.packets[t.type]+t.data.data;return n(i)}(t,r);var s=f[t.type];return void 0!==t.data&&(s+=i?c.encode(String(t.data),{strict:!1}):String(t.data)),r(""+s)},e.encodeBase64Packet=function(t,n){var i,r="b"+e.packets[t.type];if(void 0!==g&&t.data instanceof g){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];n(r+t)},o.readAsDataURL(t.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];i=String.fromCharCode.apply(null,a)}return r+=btoa(i),n(r)},e.decodePacket=function(t,n,i){if(void 0===t)return d;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(i&&!1===(t=function(t){try{t=c.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return d;var r=t.charAt(0);return Number(r)==r&&p[r]?t.length>1?{type:p[r],data:t.substring(1)}:{type:p[r]}:d}r=new Uint8Array(t)[0];var o=s(t,1);return g&&"blob"===n&&(o=new g([o])),{type:p[r],data:o}},e.decodeBase64Packet=function(t,e){var n=p[t.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=i.decode(t.substr(1));return"blob"===e&&g&&(r=new g([r])),{type:n,data:r}},e.encodePayload=function(t,n,i){"function"==typeof n&&(i=n,n=null);var r=o(t);if(n&&r)return g&&!h?e.encodePayloadAsBlob(t,i):e.encodePayloadAsArrayBuffer(t,i);if(!t.length)return i("0:");m(t,(function(t,i){e.encodePacket(t,!!r&&n,!1,(function(t){i(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return i(e.join(""))}))},e.decodePayload=function(t,n,i){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,i);var r;if("function"==typeof n&&(i=n,n=null),""===t)return i(d,0,1);for(var o,s,a="",c=0,l=t.length;c<l;c++){var u=t.charAt(c);if(":"===u){if(""===a||a!=(o=Number(a)))return i(d,0,1);if(a!=(s=t.substr(c+1,o)).length)return i(d,0,1);if(s.length){if(r=e.decodePacket(s,n,!1),d.type===r.type&&d.data===r.data)return i(d,0,1);if(!1===i(r,c+o,l))return}c+=o,a=""}else a+=u}return""!==a?i(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));m(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){return n(null,t)}))}),(function(t,e){var i=e.reduce((function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2}),0),r=new Uint8Array(i),o=0;return e.forEach((function(t){var e="string"==typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);n=i.buffer}r[o++]=e?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)r[o++]=parseInt(a[s]);r[o++]=255;for(i=new Uint8Array(n),s=0;s<i.length;s++)r[o++]=i[s]})),n(r.buffer)}))},e.encodePayloadAsBlob=function(t,n){m(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);t=i.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)s[r]=parseInt(o[r]);if(s[o.length]=255,g){var a=new g([e.buffer,s.buffer,t]);n(null,a)}}))}),(function(t,e){return n(new g(e))}))},e.decodePayloadAsBinary=function(t,n,i){"function"==typeof n&&(i=n,n=null);for(var r=t,o=[];r.byteLength>0;){for(var a=new Uint8Array(r),c=0===a[0],l="",u=1;255!==a[u];u++){if(l.length>310)return i(d,0,1);l+=a[u]}r=s(r,2+l.length),l=parseInt(l);var h=s(r,0,l);if(c)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var f=new Uint8Array(h);h="";for(u=0;u<f.length;u++)h+=String.fromCharCode(f[u])}o.push(h),r=s(r,l)}var p=o.length;o.forEach((function(t,r){i(e.decodePacket(t,n,!0),r,p)}))}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Mudslinger=e.Client=void 0;var u,h=n(22),f=n(5),p=o(n(47)),d=n(49),g=o(n(50)),m=n(51),v=n(52),y=n(53),b=n(7),w=n(54),C=n(55),E=n(56),x=n(57),T=n(60),A=n(61),S=n(62),k=n(111),_=n(112),B=n(113),O=n(114),I=n(115),M=l(n(37)),P=o(n(21)),N=n(116),R=n(46),F=n(117),L=n(2),D=n(118),j=function(){function t(t,e,n){var i=this;this.connectionTarget=t,this.baseConfig=e,this.profileManager=n,this.serverEcho=!1,this._connected=!1,this.UserConfig=h.UserConfig,this.AppInfo=f.AppInfo,this.aboutWin=new B.AboutWin,this.jsScript=new b.JsScript,this.contactWin=new I.ContactWin,this.profileWin=new F.ProfileWindow(this.profileManager),this.profilesWin=new N.ProfilesWindow(this.profileManager,this.profileWin,this),this.classManager=new E.ClassManager(this.profileManager.activeConfig),this.jsScriptWin=new w.JsScriptWin(this.jsScript),this.triggerManager=new _.TriggerManager(this.jsScript,this.profileManager.activeConfig,e,this.classManager,n),this.aliasManager=new v.AliasManager(this.jsScript,this.profileManager.activeConfig,e,this.classManager),this.jsScript.setClassManager(this.classManager),this.jsScript.setTriggerManager(this.triggerManager),this.jsScript.setAliasManager(this.aliasManager),this.commandInput=new y.CommandInput(this.aliasManager),this.outputWin=new A.OutputWin(this.profileManager.activeConfig,this.triggerManager),this.aliasEditor=new m.AliasEditor(this.aliasManager),this.triggerEditor=new k.TriggerEditor(this.triggerManager),this.windowManager=new D.WindowManager(this.profileManager),this.outputManager=new T.OutputManager(this.outputWin,this.profileManager.activeConfig,this.windowManager),this.jsScript.setOutputManager(this.outputManager),this.mxp=new x.Mxp(this.outputManager,this.commandInput,this.jsScript),this.socket=new S.Socket(this.outputManager,this.mxp,this.profileManager.activeConfig),this.connectWin=new O.ConnectWin(this.socket),this.menuBar=new C.MenuBar(this.aliasEditor,this.triggerEditor,this.jsScriptWin,this.aboutWin,this.profilesWin,this.profileManager.activeConfig,this.windowManager),this.menuBar.EvtChangeDefaultColor.handle((function(t){i.outputManager.handleChangeDefaultColor(t[0],t[1])})),this.menuBar.EvtChangeDefaultBgColor.handle((function(t){i.outputManager.handleChangeDefaultBgColor(t[0],t[1])})),this.menuBar.EvtContactClicked.handle((function(){i.contactWin.show()})),this.menuBar.EvtConnectClicked.handle((function(){i.connect()})),this.menuBar.EvtDisconnectClicked.handle((function(){i.disconnect()})),this.socket.EvtServerEcho.handle((function(t){i.serverEcho=t})),this.socket.EvtTelnetTryConnect.handle((function(t){i.outputWin.handleTelnetTryConnect(t[0],t[1])}));var r=function(t){return t.preventDefault(),t.returnValue="",""};this.socket.EvtTelnetConnect.handle((function(t){i.connected=!0,window.addEventListener("beforeunload",r),i.serverEcho=!1,i.menuBar.handleTelnetConnect(),i.outputWin.handleTelnetConnect(),P.clientInfo.telnetHost=t[0],P.clientInfo.telnetPort=t[1],P.apiPostClientConn()})),this.socket.EvtTelnetDisconnect.handle((function(){i.connected=!1,window.removeEventListener("beforeunload",r),i.menuBar.handleTelnetDisconnect(),i.outputWin.handleTelnetDisconnect(),P.clientInfo.telnetHost=null,P.clientInfo.telnetPort=null})),this.socket.EvtTelnetError.handle((function(t){i.outputWin.handleTelnetError(t)})),this.socket.EvtWsError.handle((function(t){i.outputWin.handleWsError()})),this.socket.EvtWsConnect.handle((function(t){P.clientInfo.sid=t.sid,i.outputWin.handleWsConnect()})),this.socket.EvtWsDisconnect.handle((function(){P.clientInfo.sid=null,i.menuBar.handleTelnetDisconnect(),i.outputWin.handleWsDisconnect()})),this.socket.EvtSetClientIp.handle((function(t){P.clientInfo.clientIp=t})),this.commandInput.EvtEmitCmd.handle((function(t){!0!==i.serverEcho&&i.outputWin.handleSendCommand(t),i.socket.sendCmd(t)})),this.commandInput.EvtEmitAliasCmds.handle((function(t){var e,n;i.outputWin.handleAliasSendCommands(t.orig,t.commands);try{for(var r=c(t.commands),o=r.next();!o.done;o=r.next()){var s=o.value;i.commandInput.execCommand(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})),this.mxp.EvtEmitCmd.handle((function(t){!0!==t.noPrint&&i.outputWin.handleSendCommand(t.value),i.socket.sendCmd(t.value),!0!==t.noPrint&&P.apiPostMxpSend()})),b.EvtScriptEmitCmd.handle((function(t){i.outputWin.handleScriptSendCommand(t.owner,t.message),i.commandInput.execCommand(t.message)})),b.EvtScriptEmitPrint.handle((function(t){t.window?i.outputManager.sendToWindow(t.window,t.message,t.message,!0):i.outputWin.handleScriptPrint(t.owner,t.message)})),b.EvtScriptEmitError.handle((function(t){i.outputWin.handleScriptError(t)})),b.EvtScriptEmitEvalError.handle((function(t){i.outputWin.handleScriptEvalError(t)})),this.triggerManager.EvtEmitTriggerCmds.handle((function(t){var e,n;i.outputWin.handleTriggerSendCommands(t.orig,t.cmds);try{for(var r=c(t.cmds),o=r.next();!o.done;o=r.next()){var s=o.value;i.commandInput.execCommand(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})),this.outputWin.EvtLine.handle((function(t){var e;null!=(e=i.triggerManager.handleLine(t[0],t[1]))&&(t[1]=e,t[0]=i.triggerManager.line)})),this.outputWin.EvtBuffer.handle((function(t){var e;null!=(e=i.triggerManager.handleBuffer(t[0],t[1]))&&(t[1]=e,t[0]=i.triggerManager.line)})),this.outputManager.EvtNewLine.handle((function(){i.mxp.handleNewline()})),this.outputManager.EvtMxpTag.handle((function(t){i.mxp.handleMxpTag(t)})),this.socket.open().then((function(t){t&&(i.connectionTarget?i.socket.openTelnet(i.connectionTarget.host,i.connectionTarget.port):i.connectWin.show())}))}return Object.defineProperty(t.prototype,"connected",{get:function(){return this._connected},set:function(t){this._connected=t},enumerable:!1,configurable:!0}),t.prototype.disconnect=function(){this.socket.closeTelnet()},t.prototype.connect=function(t){t&&(this.connectionTarget=t),this.connectionTarget?this.socket.openTelnet(this.connectionTarget.host,this.connectionTarget.port):this.connectWin.show()},t}();e.Client=j,function(t){function e(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return[2,M.default.create({validateStatus:function(t){return 200===t}}).get("./client.config.json")]}))}))}function n(t,e,n){null==t.get(e)&&t.set(e,n)}function i(t){n(t,"text-color","white-on-black"),n(t,"wrap-lines",!0),n(t,"utf8Enabled",!1),n(t,"mxpEnabled",!0),n(t,"enable-aliases",!0),n(t,"enable-triggers",!0),n(t,"font-size","small"),n(t,"font","Consolas"),n(t,"colorsEnabled",!0),n(t,"logTime",!1),n(t,"debugScripts",!1)}function r(){var e,n,r=new URLSearchParams(location.search);if(t.baseConfig.init(localStorage.getItem("userConfig"),(n=localStorage.getItem("localConfigAck"),function(t){if(localStorage.setItem("userConfig",t),!n){var e=document.createElement("div");e.innerHTML="\n                \x3c!--header--\x3e\n                <div>INFO</div>\n                \x3c!--content--\x3e\n                <div>\n                <p>\n                    Le tue impostazioni verranno salvate in <b>locale</b> nel tuo browser,\n                    e non potrai accederci da altri senza esportare e importare.\n                </p>\n                \n\n                </div>\n            ",$(e).jqxWindow({closeButtonAction:"close"}),n="true",localStorage.setItem("localConfigAck",n)}return t})),i(t.baseConfig),t.profileManager=new R.ProfileManager(t.baseConfig),r.has("host")&&"auto"==r.get("host").trim())e={host:null,port:0};else if(r.has("host")&&r.has("port"))e={host:r.get("host").trim(),port:Number(r.get("port").trim())};else if(t.profileManager.getCurrent()){var o=t.profileManager.getCurrent(),s=t.profileManager.getProfile(o);e={host:s.host.trim(),port:Number(s.port.trim())}}else e={host:"mud.temporasanguinis.it",port:4e3};t.profileManager.setTitle(),console.log(e),t.client=new j(e,t.baseConfig,t.profileManager),$(".preloading").addClass("preloaded")}function o(t){return s(this,void 0,void 0,(function(){var e;return a(this,(function(n){return null!=(e=localStorage.getItem("browserHash"))&&e!=t&&(L.Acknowledge("hashChanged","La configurazione del PC o del browser e' cambiata.\n            Le password che erano state salvate per i profili sono state invalidate e dovrai rimetterle.\n            \n            <b>E' una misura di sicurezza</b> per prevenire furti di password\n            che vengono salvate nel browser e criptate con il suo numero identificativo."),localStorage.removeItem("ack_hashChanged")),localStorage.setItem("browserHash",t),[2]}))}))}function l(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return[2,e().then((function(t){if(t&&t.data){var e=t.data;e.apiBaseUrl?(P.setApiBaseUrl(e.apiBaseUrl),P.setEnabled(!0)):P.setEnabled(!1)}else P.setEnabled(!0)}),(function(){P.setEnabled(!0)})).then((function(){r()}),(function(t){console.log("Failed loading local config: "+t),r()}))]}))}))}t.baseConfig=new h.UserConfig,t.profileManager=null,t.GetLocalClientConfig=e,t.GetLocalBaseConfig=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return[2,M.default.create({validateStatus:function(t){return 200===t}}).get("./baseConfig.json")]}))}))},t.setDefaults=i,t.runClient=r,t.decrypt=function(t){var e=g.utils.hex.toBytes(localStorage.getItem("browserHash")),n=g.utils.hex.toBytes(t),i=new g.ModeOfOperation.ctr(e,new g.Counter(5)).decrypt(n);return g.utils.utf8.fromBytes(i)},t.encrypt=function(t){var e=g.utils.hex.toBytes(localStorage.getItem("browserHash")),n=g.utils.utf8.toBytes(t),i=new g.ModeOfOperation.ctr(e,new g.Counter(5)).encrypt(n);return g.utils.hex.fromBytes(i)},t.initEncryption=o,t.initClient=l,t.init=function(){return s(this,void 0,void 0,(function(){var t,e=this;return a(this,(function(n){return t=function(t){return s(e,void 0,void 0,(function(){var e,n,i,r,s,u;return a(this,(function(a){switch(a.label){case 0:e="";try{for(n=c(t),i=n.next();!i.done;i=n.next())r=i.value,e+=r.key+r.value}catch(t){s={error:t}}finally{try{i&&!i.done&&(u=n.return)&&u.call(n)}finally{if(s)throw s.error}}return[4,o(e=d.Md5.hashStr(e).toString())];case 1:return a.sent(),[4,l()];case 2:return a.sent(),[2]}}))}))},window.requestIdleCallback?window.requestIdleCallback((function(){p.get((function(e){t(e)}))})):setTimeout((function(){p.get((function(e){t(e)}))}),500),[2]}))}))}}(u=e.Mudslinger||(e.Mudslinger={})),window.Mudslinger=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppInfo=void 0,function(t){t.AppTitle="TS2 Web Client",t.RepoUrl="https://github.com/msimic/mudslinger",t.Version="0.3.0",t.Build="1b7b30ea9ce7cc53352947e0658946b4514056da"}(e.AppInfo||(e.AppInfo={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.messagebox=void 0,e.messagebox=function(t,e,n,i,r,o,s){var a=document.createElement("div");a.style.display="none",a.className="winMessagebox",document.body.appendChild(a),i=null==i?"OK":i,r=null==r?"Annulla":r,a.innerHTML='\n    \x3c!--header--\x3e\n    <div id="title"></div>\n    \x3c!--content--\x3e\n    <div>\n        <div>\n            <div class="messageboxtext" id="message">\n                \n            </div>\n            <div class="messageboxbuttons">\n                <button id="accept" class="acceptbutton greenbutton"></button>\n                <button id="cancel" class="cancelbutton redbutton"></button>\n            </div>\n        </div>\n    </div>\n    ';var c=$(a),l="",u=$("#accept",c),h=$("#cancel",c),f=$("#title",c),p=$("#message",c);if(c.jqxWindow({minWidth:o||250,minHeight:s||150,showCollapseButton:!1,isModal:!0,resizable:!1}),$(u).text(i),i||$(u).hide(),$(h).text(r),r||$(h).hide(),$(u).click((function(){l=i,c.jqxWindow("close")})),$(h).click((function(){l=r,c.jqxWindow("close")})),$(f).text(t),$(p).html(e.replace(/\n/g,"<br/>")),c.jqxWindow("open"),c.jqxWindow("bringToFront"),c.on("close",(function(){n&&n(l),c.jqxWindow("destroy")})),$(u).focus(),!s){c.find(".jqx-window-content").append('<div id="bottomOfContent"></div>');var d=$(p).height()+$(".messageboxbuttons",c).height()+50;c.jqxWindow({height:d})}}},function(module,exports,__webpack_require__){"use strict";var __read=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},__spread=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JsScript=exports.EvtScriptEmitToggleClass=exports.EvtScriptEmitToggleTrigger=exports.EvtScriptEmitToggleAlias=exports.EvtScriptEmitEvalError=exports.EvtScriptEmitError=exports.EvtScriptEmitPrint=exports.EvtScriptEmitCmd=void 0;var event_1=__webpack_require__(0);exports.EvtScriptEmitCmd=new event_1.EventHook,exports.EvtScriptEmitPrint=new event_1.EventHook,exports.EvtScriptEmitError=new event_1.EventHook,exports.EvtScriptEmitEvalError=new event_1.EventHook,exports.EvtScriptEmitToggleAlias=new event_1.EventHook,exports.EvtScriptEmitToggleTrigger=new event_1.EventHook,exports.EvtScriptEmitToggleClass=new event_1.EventHook;var startWatch=function(t){var e=this;if(!e.watchTask){for(var n in e.oldValues=[],e)e.oldValues[n]=e[n];setInterval((function(){for(var n in e){var i=e[n];if("function"!=typeof i){var r=e.oldValues[n];i!=r&&(e.oldValues[n]=i,t({obj:e,propName:n,oldValue:r,newValue:i}))}}}),30)}};function makeScript(owner,text,argsSig,classManager,aliasManager,triggerManager,outputManager){var _scriptFunc_,own=owner,color=function(t,e,n,i,r,o){var s="";o&&(s+="blink "),r&&(s+="underline ");var a="display: inline-block;";return e&&(a+="color:"+e+";"),n&&(a+="background-color:"+n+";"),'<span class="'+s+'" style="'+a+'">'+((i?"<b>":"")+t+(i?"</b>":""))+"</span>"},sub=function(t,e){triggerManager&&triggerManager.subBuffer(t,e)},gag=function(){triggerManager&&triggerManager.gag()},cap=function(t){triggerManager&&outputManager.sendToWindow(t,triggerManager.line,triggerManager.buffer)},send=function(t){exports.EvtScriptEmitCmd.fire({owner:own,message:t.toString()})},print=function(t,e){exports.EvtScriptEmitPrint.fire({owner:own,message:t.toString(),window:e})},toggleTrigger=function(t,e){exports.EvtScriptEmitToggleTrigger.fire({owner:own,id:t,state:e})},toggleAlias=function(t,e){exports.EvtScriptEmitToggleAlias.fire({owner:own,id:t,state:e})},toggleClass=function(t,e){exports.EvtScriptEmitToggleClass.fire({owner:own,id:t,state:e})},classEnabled=function(t){return!classManager||classManager.isEnabled(t)},triggerEnabled=function(t){return!triggerManager||triggerManager.isEnabled(t)},aliasEnabled=function(t){return!aliasManager||aliasManager.isEnabled(t)},getTrigger=function(t){return triggerManager?triggerManager.getById(t):null},getAlias=function(t){return aliasManager?aliasManager.getById(t):null};try{eval("_scriptFunc_ = function("+argsSig+') {"use strict";\n'+text+"\n}")}catch(t){return exports.EvtScriptEmitEvalError.fire(t),null}return _scriptFunc_.bind(this)}var JsScript=function(){function t(){var t=this;this.scriptThis={startWatch:startWatch},this.scriptThis.startWatch((function(e){t.aliasManager.checkAlias("on"+e.propName+" "+e.oldValue)}))}return t.prototype.getScriptThis=function(){return this.scriptThis},t.prototype.makeScript=function(t,e,n){try{var i=makeScript.call(this.scriptThis,t,e,n,this.classManager,this.aliasManager,this.triggerManager,this.outputManager);return i?function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{i.apply(void 0,__spread(e))}catch(e){exports.EvtScriptEmitError.fire({owner:t,err:e})}}:null}catch(t){exports.EvtScriptEmitEvalError.fire(t)}},t.prototype.setClassManager=function(t){this.classManager=t},t.prototype.setTriggerManager=function(t){this.triggerManager=t},t.prototype.setAliasManager=function(t){this.aliasManager=t},t.prototype.setOutputManager=function(t){this.outputManager=t},t}();exports.JsScript=JsScript},function(t,e,n){(function(i){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let i=0,r=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(i++,"%c"===t&&(r=i))}),e.splice(r,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(65)(e);const{formatters:r}=t.exports;r.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(9))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,l=[],u=!1,h=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!u){var t=a(f);u=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||u||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(i){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let i=0,r=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(i++,"%c"===t&&(r=i))}),e.splice(r,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(85)(e);const{formatters:r}=t.exports;r.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(9))},function(t,e,n){var i=n(67)("socket.io-parser"),r=n(14),o=n(70),s=n(15),a=n(27);function c(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=h;var l=e.ERROR+'"encode error"';function u(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var r=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===r)return l;n+=r}return i("encoded %j as %s",t,n),n}function h(){this.reconstructor=null}function f(t){this.reconPack=t,this.buffers=[]}function p(t){return{type:e.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,n){(i("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){o.removeBlobs(t,(function(t){var n=o.deconstructPacket(t),i=u(n.packet),r=n.buffers;r.unshift(i),e(r)}))}(t,n):n([u(t)])},r(h.prototype),h.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,r={type:Number(t.charAt(0))};if(null==e.types[r.type])return p("unknown packet type "+r.type);if(e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type){for(var o="";"-"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!==t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===t.charAt(n+1))for(r.nsp="";++n;){if(","===(c=t.charAt(n)))break;if(r.nsp+=c,n===t.length)break}else r.nsp="/";var a=t.charAt(n+1);if(""!==a&&Number(a)==a){for(r.id="";++n;){var c;if(null==(c=t.charAt(n))||Number(c)!=c){--n;break}if(r.id+=t.charAt(n),n===t.length)break}r.id=Number(r.id)}if(t.charAt(++n)){var l=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n));if(!(!1!==l&&(r.type===e.ERROR||s(l))))return p("invalid payload");r.data=l}return i("decoded %s as %j",t,r),r}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(72),r=n(73),o=n(74);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(e,n),r=(t=a(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(u(e),t=a(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(i)return j(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return _(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function m(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function v(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,i,r);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,i,r){var o,s=1,a=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var u=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,f=0;f<c;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function b(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function w(t,e,n,i){return W(j(e,t.length-n),t,n,i)}function C(t,e,n,i){return W(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function E(t,e,n,i){return C(t,e,n,i)}function x(t,e,n,i){return W(U(e),t,n,i)}function T(t,e,n,i){return W(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function A(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,c,l=t[r],u=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(o=t[r+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return n}(i)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,i){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof i?a(t,e).fill(n,i):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=c.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):g.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,i,r){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(i,r),u=t.slice(e,n),h=0;h<a;++h)if(l[h]!==u[h]){o=l[h],s=u[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},c.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return C(this,t,e,n);case"latin1":case"binary":return E(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function _(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function B(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=D(t[o]);return r}function O(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,i,r,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function P(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function N(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function R(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,i,o){return o||R(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function L(t,e,n,i,o){return o||R(t,0,n,8),r.write(t,e,n,i,52,8),n+8}c.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var r=e-t;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},c.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);M(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);M(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=c.isBuffer(t)?t:j(new c(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var $=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace($,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(71))},function(t,e,n){var i=n(77),r=n(18);t.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(t){}if(!e)try{return new(r[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},function(t,e){t.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(t,e,n){var i=n(3),r=n(20);function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,r(o.prototype),o.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,n){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TestFixture=e.apiPostContact=e.apiPostClientConn=e.apiPostMxpSend=e.apiPostUserConfig=e.apiPostProfileConfig=e.apiGetProfile=e.apiGetClientConfig=e.createApiUrl=e.setApiBaseUrl=e.getApiBaseUrl=e.setEnabled=e.clientInfo=e.apiBaseUrl=e.enabled=void 0;var s,a=o(n(37));function c(){return e.apiBaseUrl||"./"}function l(t){return c()+t}e.enabled=!0,e.apiBaseUrl=null,function(t){t.sid=null,t.clientIp=null,t.telnetHost=null,t.telnetPort=null}(s=e.clientInfo||(e.clientInfo={})),e.setEnabled=function(t){e.enabled=t,e.enabled?$("[data-require-api='true']").show():$("[data-require-api='true']").hide()},e.getApiBaseUrl=c,e.setApiBaseUrl=function(t){e.apiBaseUrl=t},e.createApiUrl=l;var u=a.default.create({validateStatus:function(t){return 200===t}});e.apiGetClientConfig=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return e.enabled?[2,u.get(l("client/client_config"))]:[2,u.get("./client.config.json")]}))}))},e.apiGetProfile=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(n){return e.enabled?[2,u.get(l("user/get_profile"),{params:{id:t}})]:[2,null]}))}))},e.apiPostProfileConfig=function(t,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){return e.enabled?[2,u.post(l("user/save_profile_config"),{id:t,config:n})]:[2,null]}))}))},e.apiPostUserConfig=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(n){return e.enabled?[2,u.post(l("usage/user_config"),{sid:s.sid,vals:t,time_stamp:new Date})]:[2,null]}))}))},e.apiPostMxpSend=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return e.enabled?[2,u.post(l("usage/mxp_send"),{sid:s.sid,from_addr:s.clientIp,to_addr:s.telnetHost,to_port:s.telnetPort,time_stamp:new Date})]:[2,null]}))}))},e.apiPostClientConn=function(){return i(this,void 0,void 0,(function(){return r(this,(function(t){return e.enabled?[2,u.post(l("usage/client_conn"),{sid:s.sid,from_addr:s.clientIp,to_addr:s.telnetHost,to_port:s.telnetPort,time_stamp:new Date})]:[2,null]}))}))},e.apiPostContact=function(t,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){return e.enabled?[2,u.post(l("client/contact"),{message:t,email:n,client_info:{sid:s.sid,from_addr:s.clientIp,to_addr:s.telnetHost,to_port:s.telnetPort}})]:[2,null]}))}))},function(t){t.GetAxios=function(){return u}}(e.TestFixture||(e.TestFixture={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserConfig=void 0;var i=n(0),r=function(){function t(){this.setHandlers={},this.evtConfigImport=new i.EventHook}return t.prototype.init=function(t,e){this.saveFunc=e,this.cfgVals=t?JSON.parse(t):{},this.evtConfigImport.fire({})},t.prototype.copy=function(t){var e=JSON.parse(t);for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];this.set(n,i)}this.saveConfig()},t.prototype.remove=function(t,e){for(var n in this.cfgVals)if(Object.prototype.hasOwnProperty.call(this.cfgVals,n)){this.cfgVals[n];t.test(n)&&delete this.cfgVals[n]}for(var n in e(),this.setHandlers)if(Object.prototype.hasOwnProperty.call(this.setHandlers,n)){this.setHandlers[n];this.setHandlers[n].fire(this.get(n))}},t.prototype.onSet=function(t,e){t in this.setHandlers==!1&&(this.setHandlers[t]=new i.EventHook),e?this.setHandlers[t].handle(e):delete this.setHandlers[t]},t.prototype.getDef=function(t,e){var n=this.cfgVals[t];return void 0===n?e:n},t.prototype.get=function(t){return this.cfgVals[t]},t.prototype.set=function(t,e){var n=this.cfgVals[t];this.cfgVals[t]=e,this.saveConfig(),n!=e&&t in this.setHandlers&&this.setHandlers[t].fire(e)},t.prototype.saveConfig=function(){return this.saveFunc(JSON.stringify(this.cfgVals))},t.prototype.exportToFile=function(){var t="data:text/json;charset=utf-8,"+JSON.stringify(this.cfgVals,null,2),e=encodeURI(t),n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download","userConfig.json"),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)},t.prototype.importFromFile=function(){var t=this,e=document.createElement("input");e.type="file",e.style.visibility="hidden",e.addEventListener("change",(function(e){var n=e.target.files[0];if(n){var i=new FileReader;i.onload=function(e){var n=e.target.result,i=JSON.parse(n);t.cfgVals=i,t.evtConfigImport.fire(i)},i.readAsText(n)}})),document.body.appendChild(e),e.click(),document.body.removeChild(e)},t}();e.UserConfig=r},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.TrigAlEditBase=void 0;var s=o(n(2)),a=function(){function t(t){var e=this,n=document.createElement("div");n.style.display="none",document.body.appendChild(n),this.$win=$(n),n.innerHTML="\n        \x3c!--header--\x3e\n        <div>"+t+'</div>\n        \x3c!--content--\x3e\n        <div>\n            <div class="winEdit-mainSplit">\n                \x3c!--left panel--\x3e\n                <div class="left-pane">\n                    <div class="buttons">\n                        <label class="filter-label">Filtra:</label>\n                        <input class="winEdit-filter" type="text" placeholder="<filtro>"/>\n                    </div>\n                    <div class="list">\n                        <ul size="2" class="winEdit-listBox select"></ul>\n                    </div>\n                    <div class="buttons">\n                        <button title="Crea nuovo" class="winEdit-btnNew greenbutton">Aggiungi</button>\n                        <button title="Elimina selezionato" class="winEdit-btnDelete redbutton">Elimina</button>\n                    </div>\n                </div>\n                \x3c!--right panel--\x3e\n                <div class="right-pane">\n                    <div class="pane-header">\n                        <span>Modello</span>\n                        <input type="text" class="winEdit-pattern" disabled><br>\n                        <div class="pane-optional">\n                            <label>ID: <input type="text" class="winEdit-id" disabled placeholder="(opzionale)" title="Per visualizzare meglio nella lista o per poter usare toggleTrigger(id, stato) o toggleAlias(id, stato) in script"></label>\n                            <label>Classe: <input type="text" class="winEdit-className" disabled placeholder="(opzionale)" title="Se appartiene a una classe disablitata sara\' inattivo (usare toggleClass(id, stato)""></label>\n                        </div>\n                        <div class="pane-options">\n                            <label>\n                                Abilitato\n                                <input type="checkbox" title="Se disabilitato non scatta" class="winEdit-chkEnabled" disabled />\n                            </label>\n                            <label>\n                                Prompt\n                                <input type="checkbox" title="Scatta anche se non arriva un capolinea" class="winEdit-chkIsPrompt" disabled />\n                            </label>\n                            <label>\n                                Regex\n                                <input type="checkbox" title="Il pattern e\' una regular expression" class="winEdit-chkRegex" disabled />\n                            </label>\n                            <label>\n                                Script\n                                <input type="checkbox" title="Il trigger contiene una script javascript" class="winEdit-chkScript" disabled />\n                            </label>\n                        </div>\n                    </div>                    \n                    <div class="pane-content-title">\n                        <span>Azioni:</span>\n                    </div>\n                    <div class="pane-content">\n                        <textarea class="winEdit-textArea" disabled></textarea>\n                        <textarea class="winEdit-scriptArea" disabled></textarea>\n                    </div>\n                    <div class="pane-footer">\n                        <button class="winEdit-btnSave bluebutton" disabled>Salva</button>\n                        <button class="winEdit-btnCancel" disabled>Annulla</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        ',this.$mainSplit=$(n.getElementsByClassName("winEdit-mainSplit")[0]),this.$newButton=$(n.getElementsByClassName("winEdit-btnNew")[0]),this.$deleteButton=$(n.getElementsByClassName("winEdit-btnDelete")[0]),this.$listBox=$(n.getElementsByClassName("winEdit-listBox")[0]),this.$pattern=$(n.getElementsByClassName("winEdit-pattern")[0]),this.$id=$(n.getElementsByClassName("winEdit-id")[0]),this.$className=$(n.getElementsByClassName("winEdit-className")[0]),this.$enabledCheckbox=$(n.getElementsByClassName("winEdit-chkEnabled")[0]),this.$regexCheckbox=$(n.getElementsByClassName("winEdit-chkRegex")[0]),this.$isPromptCheckbox=$(n.getElementsByClassName("winEdit-chkIsPrompt")[0]),this.$scriptCheckbox=$(n.getElementsByClassName("winEdit-chkScript")[0]),this.$saveButton=$(n.getElementsByClassName("winEdit-btnSave")[0]),this.$cancelButton=$(n.getElementsByClassName("winEdit-btnCancel")[0]),this.$textArea=$(n.getElementsByClassName("winEdit-textArea")[0]),this.$scriptArea=$(n.getElementsByClassName("winEdit-scriptArea")[0]),this.$filter=$(n.getElementsByClassName("winEdit-filter")[0]),this.$filter.keyup((function(t){e.Filter($(t.target).val())}));var i=$(window).innerWidth()-20,r=$(window).innerHeight()-20;this.$win.jqxWindow({width:Math.min(600,i),height:Math.min(400,r),showCollapseButton:!0}),this.$mainSplit.jqxSplitter({width:"100%",height:"100%",orientation:"vertical",panels:[{size:"25%"},{size:"75%"}]}),this.codeMirror=CodeMirror.fromTextArea(this.$scriptArea[0],{mode:{name:"javascript",globalVars:!0},theme:"neat",autoRefresh:!0,matchBrackets:!0,lineNumbers:!0,extraKeys:{"Ctrl-Space":"autocomplete"}}),this.addIntellisense(this.codeMirror),this.$codeMirrorWrapper=$(this.codeMirror.getWrapperElement()),this.$codeMirrorWrapper.height("100%"),this.$codeMirrorWrapper.hide(),this.$listBox.click(this.itemClick.bind(this)),this.$newButton.click(this.handleNewButtonClick.bind(this)),this.$deleteButton.click(this.handleDeleteButtonClick.bind(this)),this.$saveButton.click(this.handleSaveButtonClick.bind(this)),this.$cancelButton.click(this.handleCancelButtonClick.bind(this)),this.$scriptCheckbox.change(this.handleScriptCheckboxChange.bind(this))}return t.prototype.Filter=function(t){$("li",this.$listBox).each((function(e,n){!t||null!=$(n).text().match(new RegExp(t,"gi"))?$(n).show():$(n).hide()}))},t.prototype.addIntellisense=function(t){$.ajax("ecmascript.json").done((function(e){var n=new CodeMirror.TernServer({defs:[e]});t.setOption("extraKeys",{"Ctrl-Space":function(t){t.showHint({hint:n.getHint,completeSingle:!1})},"Ctrl-I":function(t){n.showType(t)},"Ctrl-O":function(t){n.showDocs(t)},"Alt-.":function(t){n.jumpToDef(t)},"Alt-,":function(t){n.jumpBack(t)},F2:function(t){n.rename(t)},"Ctrl-.":function(t){n.selectName(t)}}),t.on("cursorActivity",(function(t){n.updateArgHints(t)}));var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",50:"quote",91:"left window key",92:"right window key",93:"select",107:"add",109:"subtract",110:"decimal point",111:"divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock",186:"semicolon",187:"equalsign",188:"comma",189:"dash",191:"slash",192:"graveaccent",220:"backslash",222:"quote"};t.on("keyup",(function(t,e){var r=t.getDoc().getCursor(),o=t.getTokenAt(r);t.state.completionActive||e.ctrlKey||e.altKey||e.shiftKey||i[(e.keyCode||e.which).toString()]||-1!=["[","]","-","+","=",">","<","!","(",")"].indexOf(o.string)||t.showHint({hint:n.getHint,completeSingle:!1})}))}))},t.prototype.itemClick=function(t){var e=$(t.target);if(e.is("li")){e.addClass("selected"),e.siblings().removeClass("selected");var n=e.parent().children().index(e);this.$listBox.data("selectedIndex",n)}else e.children().removeClass("selected"),this.$listBox.data("selectedIndex",-1);this.handleListBoxChange()},t.prototype.setEditorDisabled=function(t){this.$pattern.prop("disabled",t),this.$id.prop("disabled",t),this.$className.prop("disabled",t),this.$enabledCheckbox.prop("disabled",t),this.$isPromptCheckbox.prop("disabled",t),this.$regexCheckbox.prop("disabled",t),this.$scriptCheckbox.prop("disabled",t),this.$textArea.prop("disabled",t),this.$codeMirrorWrapper.prop("disabled",t),this.$saveButton.prop("disabled",t),this.$cancelButton.prop("disabled",t),this.showTextInput()},t.prototype.selectNone=function(){this.$listBox.data("selectedIndex",-1),this.$listBox.children().removeClass("selected")},t.prototype.clearEditor=function(){this.$pattern.val(""),this.$textArea.val(""),this.$id.val(""),this.$className.val(""),this.codeMirror.setValue(""),this.$enabledCheckbox.prop("checked",!1),this.$regexCheckbox.prop("checked",!1),this.$scriptCheckbox.prop("checked",!1),this.showTextInput()},t.prototype.updateListBox=function(){for(var t=this.getList(),e="",n=0;n<t.length;n++)e+="<li>"+s.rawToHtml(t[n])+"</option>";this.$listBox.html(e)},t.prototype.handleSaveButtonClick=function(){var t=this.$listBox.data("selectedIndex"),e=this.$scriptCheckbox.is(":checked"),n={pattern:this.$pattern.val(),id:this.$id.val(),value:e?this.codeMirror.getValue():this.$textArea.val(),regex:this.$regexCheckbox.is(":checked"),is_script:e,class:this.$className.val(),enabled:this.$enabledCheckbox.is(":checked"),is_prompt:this.$isPromptCheckbox.is(":checked")};this.saveItem(t,n),this.selectNone(),this.clearEditor(),this.setEditorDisabled(!0),this.updateListBox()},t.prototype.handleCancelButtonClick=function(){this.clearEditor(),this.selectNone(),this.setEditorDisabled(!0)},t.prototype.handleNewButtonClick=function(){this.clearEditor(),this.setEditorDisabled(!1),this.selectNone(),this.$enabledCheckbox.prop("checked",!0),this.$pattern.val(this.defaultPattern||"Scrivi qui il modello (pattern)"),this.$textArea.val(this.defaultValue||"Scrivi qui il contenuto"),this.codeMirror.setValue(this.defaultScript||"// Scrivi qui il codice")},t.prototype.handleDeleteButtonClick=function(){var t=this.$listBox.data("selectedIndex");null==t||t<0||(this.deleteItem(t),this.clearEditor(),this.selectNone(),this.setEditorDisabled(!0),this.updateListBox())},t.prototype.showScriptInput=function(){this.$textArea.hide(),this.$codeMirrorWrapper.show(),this.codeMirror.refresh()},t.prototype.showTextInput=function(){this.$codeMirrorWrapper.hide(),this.$textArea.show()},t.prototype.handleListBoxChange=function(){var t=this.$listBox.data("selectedIndex"),e=this.getItem(t);if(!e)return this.clearEditor(),this.showTextInput(),void this.setEditorDisabled(!0);this.setEditorDisabled(!1),this.$pattern.val(e.pattern),this.$id.val(e.id),this.$className.val(e.class),e.is_script?(this.showScriptInput(),this.codeMirror.setValue(e.value),this.$textArea.val("")):(this.showTextInput(),this.$textArea.val(e.value),this.codeMirror.setValue("")),this.$enabledCheckbox.prop("checked",!!e.enabled),this.$regexCheckbox.prop("checked",!!e.regex),this.$scriptCheckbox.prop("checked",!!e.is_script)},t.prototype.handleScriptCheckboxChange=function(){this.$scriptCheckbox.prop("checked")?this.showScriptInput():this.showTextInput()},t.prototype.show=function(){this.updateListBox(),this.$win.jqxWindow("open"),this.$win.jqxWindow("bringToFront")},t}();e.TrigAlEditBase=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.colorIdToHtml=e.ansiBgLookup=e.ansiFgLookup=e.copyAnsiColorTuple=void 0,e.copyAnsiColorTuple=function(t){return[t[0],t[1]]},e.ansiFgLookup={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white"},e.ansiBgLookup={40:"black",41:"red",42:"green",43:"yellow",44:"blue",45:"magenta",46:"cyan",47:"white"},e.colorIdToHtml={"black-low":"rgb(0,0,0)","red-low":"rgb(187,0,0)","green-low":"rgb(0,187,0)","yellow-low":"rgb(187,187,0)","blue-low":"rgb(0,0,127)","magenta-low":"rgb(187,0,187)","cyan-low":"rgb(0,187,187)","white-low":"rgb(192,192,192)","black-high":"rgb(128,128,128)","red-high":"rgb(255,0,0)","green-high":"rgb(0,255,0)","yellow-high":"rgb(255,255,0)","blue-high":"rgb(30,30,255)","magenta-high":"rgb(255,0,255)","cyan-high":"rgb(0,255,255)","white-high":"rgb(255,255,255)",0:"#000000",1:"#800000",2:"#008000",3:"#808000",4:"#000080",5:"#800080",6:"#008080",7:"#c0c0c0",8:"#808080",9:"#ff0000",10:"#00ff00",11:"#ffff00",12:"#0000ff",13:"#ff00ff",14:"#00ffff",15:"#ffffff",16:"#000000",17:"#00005f",18:"#000087",19:"#0000af",20:"#0000d7",21:"#0000ff",22:"#005f00",23:"#005f5f",24:"#005f87",25:"#005faf",26:"#005fd7",27:"#005fff",28:"#008700",29:"#00875f",30:"#008787",31:"#0087af",32:"#0087d7",33:"#0087ff",34:"#00af00",35:"#00af5f",36:"#00af87",37:"#00afaf",38:"#00afd7",39:"#00afff",40:"#00d700",41:"#00d75f",42:"#00d787",43:"#00d7af",44:"#00d7d7",45:"#00d7ff",46:"#00ff00",47:"#00ff5f",48:"#00ff87",49:"#00ffaf",50:"#00ffd7",51:"#00ffff",52:"#5f0000",53:"#5f005f",54:"#5f0087",55:"#5f00af",56:"#5f00d7",57:"#5f00ff",58:"#5f5f00",59:"#5f5f5f",60:"#5f5f87",61:"#5f5faf",62:"#5f5fd7",63:"#5f5fff",64:"#5f8700",65:"#5f875f",66:"#5f8787",67:"#5f87af",68:"#5f87d7",69:"#5f87ff",70:"#5faf00",71:"#5faf5f",72:"#5faf87",73:"#5fafaf",74:"#5fafd7",75:"#5fafff",76:"#5fd700",77:"#5fd75f",78:"#5fd787",79:"#5fd7af",80:"#5fd7d7",81:"#5fd7ff",82:"#5fff00",83:"#5fff5f",84:"#5fff87",85:"#5fffaf",86:"#5fffd7",87:"#5fffff",88:"#870000",89:"#87005f",90:"#870087",91:"#8700af",92:"#8700d7",93:"#8700ff",94:"#875f00",95:"#875f5f",96:"#875f87",97:"#875faf",98:"#875fd7",99:"#875fff",100:"#878700",101:"#87875f",102:"#878787",103:"#8787af",104:"#8787d7",105:"#8787ff",106:"#87af00",107:"#87af5f",108:"#87af87",109:"#87afaf",110:"#87afd7",111:"#87afff",112:"#87d700",113:"#87d75f",114:"#87d787",115:"#87d7af",116:"#87d7d7",117:"#87d7ff",118:"#87ff00",119:"#87ff5f",120:"#87ff87",121:"#87ffaf",122:"#87ffd7",123:"#87ffff",124:"#af0000",125:"#af005f",126:"#af0087",127:"#af00af",128:"#af00d7",129:"#af00ff",130:"#af5f00",131:"#af5f5f",132:"#af5f87",133:"#af5faf",134:"#af5fd7",135:"#af5fff",136:"#af8700",137:"#af875f",138:"#af8787",139:"#af87af",140:"#af87d7",141:"#af87ff",142:"#afaf00",143:"#afaf5f",144:"#afaf87",145:"#afafaf",146:"#afafd7",147:"#afafff",148:"#afd700",149:"#afd75f",150:"#afd787",151:"#afd7af",152:"#afd7d7",153:"#afd7ff",154:"#afff00",155:"#afff5f",156:"#afff87",157:"#afffaf",158:"#afffd7",159:"#afffff",160:"#d70000",161:"#d7005f",162:"#d70087",163:"#d700af",164:"#d700d7",165:"#d700ff",166:"#d75f00",167:"#d75f5f",168:"#d75f87",169:"#d75faf",170:"#d75fd7",171:"#d75fff",172:"#d78700",173:"#d7875f",174:"#d78787",175:"#d787af",176:"#d787d7",177:"#d787ff",178:"#d7af00",179:"#d7af5f",180:"#d7af87",181:"#d7afaf",182:"#d7afd7",183:"#d7afff",184:"#d7d700",185:"#d7d75f",186:"#d7d787",187:"#d7d7af",188:"#d7d7d7",189:"#d7d7ff",190:"#d7ff00",191:"#d7ff5f",192:"#d7ff87",193:"#d7ffaf",194:"#d7ffd7",195:"#d7ffff",196:"#ff0000",197:"#ff005f",198:"#ff0087",199:"#ff00af",200:"#ff00d7",201:"#ff00ff",202:"#ff5f00",203:"#ff5f5f",204:"#ff5f87",205:"#ff5faf",206:"#ff5fd7",207:"#ff5fff",208:"#ff8700",209:"#ff875f",210:"#ff8787",211:"#ff87af",212:"#ff87d7",213:"#ff87ff",214:"#ffaf00",215:"#ffaf5f",216:"#ffaf87",217:"#ffafaf",218:"#ffafd7",219:"#ffafff",220:"#ffd700",221:"#ffd75f",222:"#ffd787",223:"#ffd7af",224:"#ffd7d7",225:"#ffd7ff",226:"#ffff00",227:"#ffff5f",228:"#ffff87",229:"#ffffaf",230:"#ffffd7",231:"#ffffff",232:"#080808",233:"#121212",234:"#1c1c1c",235:"#262626",236:"#303030",237:"#3a3a3a",238:"#444444",239:"#4e4e4e",240:"#585858",241:"#606060",242:"#666666",243:"#767676",244:"#808080",245:"#8a8a8a",246:"#949494",247:"#9e9e9e",248:"#a8a8a8",249:"#b2b2b2",250:"#bcbcbc",251:"#c6c6c6",252:"#d0d0d0",253:"#dadada",254:"#e4e4e4",255:"#eeeeee"}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.OutWinBase=void 0;var s=o(n(2)),a=n(24),c=n(0),l=function(){function t(t,e){var n=this;this.config=e,this.EvtLine=new c.EventHook,this.EvtBuffer=new c.EventHook,this.debugScripts=!1,this.lineCount=0,this.maxLines=500,this.onMouseUp=function(){document.execCommand("copy"),$("#cmdInput").focus()},this.underlineNest=0,this.scrollLock=!1,this.appendBuffer="",this.lineText="",this.scrollRequested=!1,this.$rootElem=t,this.$targetElems=[t],this.$target=t,this.maxLines=e.getDef("maxLines",1e3),this.debugScripts=e.getDef("debugScripts",!0),e.onSet("debugScripts",(function(t){n.debugScripts=t})),this.pushElem($("<span>").appendTo(t)),this.$rootElem.bind("scroll",(function(t){n.handleScroll(t)})),this.colorsEnabled=this.config.getDef("colorsEnabled",!0),this.copyOnMouseUp=this.config.getDef("copyOnMouseUp",!0),this.logTime=this.config.getDef("logTime",!1),this.config.onSet("logTime",(function(t){n.logTime=t})),this.copyOnMouseUp&&this.$rootElem.mouseup(this.onMouseUp),this.config.onSet("maxLines",(function(t){n.setMaxLines(t)})),this.config.onSet("colorsEnabled",(function(t){n.setColorsEnabled(t)})),this.config.onSet("copyOnMouseUp",(function(t){n.copyOnMouseUp=t,n.$rootElem[0].removeEventListener("mouseup",n.onMouseUp),n.copyOnMouseUp&&n.$rootElem[0].addEventListener("mouseup",n.onMouseUp)}))}return t.prototype.setMaxLines=function(t){this.maxLines=t},t.prototype.setColorsEnabled=function(t){if(t!==this.colorsEnabled)for(var e in this.colorsEnabled=t,a.colorIdToHtml){var n=a.colorIdToHtml[e];this.$rootElem.find(".fg-"+e).css("color",this.colorsEnabled?n:""),this.$rootElem.find(".bg-"+e).css("background-color",this.colorsEnabled?n:""),this.$rootElem.find(".bb-"+e).css("border-bottom-color",this.colorsEnabled?n:"")}},t.prototype.setBlink=function(t){this.blink=t},t.prototype.setUnderline=function(t){this.underline=t},t.prototype.setFgColorId=function(t){this.fgColorId=t},t.prototype.setBgColorId=function(t){this.bgColorId=t},t.prototype.handleScroll=function(t){var e=this.$rootElem.prop("scrollHeight"),n=this.$rootElem.scrollTop(),i=this.$rootElem.outerHeight()+n+8>=e;this.scrollLock=!i},t.prototype.pushElem=function(t){this.appendToCurrentTarget(t),this.$targetElems.push(t),this.$target=t,t.hasClass("underline")&&(this.underlineNest+=1)},t.prototype.popElem=function(){var t=this.$targetElems.pop();return this.$target=this.$targetElems[this.$targetElems.length-1],t.hasClass("underline")&&(this.underlineNest-=1),t},t.prototype.addText=function(t){if(""!=t){var e=s.rawToHtml(t),n="<span",i="";this.underline&&this.colorsEnabled&&(i+="underline "),this.blink&&this.colorsEnabled&&(i+="blink "),this.fgColorId&&(i+="fg-"+this.fgColorId+" "),this.bgColorId&&(i+="bg-"+this.bgColorId+" "),this.underlineNest>0&&(i+="bb-"+this.fgColorId+" "),""!==i&&(n+=' class="'+i+'"');var r="";if(this.underlineNest>0&&(r+="border-bottom-style:solid;",r+="border-bottom-width:1px;",this.colorsEnabled&&(r+="border-bottom-color:"+a.colorIdToHtml[this.fgColorId]+";display: inline-block;")),this.colorsEnabled&&(this.fgColorId&&(r+="color:"+a.colorIdToHtml[this.fgColorId]+";"),this.bgColorId&&(r+="background-color:"+a.colorIdToHtml[this.bgColorId]+";")),""!==r&&(n+=' style="'+r+'"'),n+=">",n+=e,n+="</span>",this.lineText+=t,this.appendBuffer+=n,this.appendToCurrentTarget(n),t.endsWith("\n")){var o=[this.lineText,this.appendBuffer];this.EvtLine.fire(o),o[1]!=this.appendBuffer&&this.outputChanged(o),this.appendBuffer="",this.newLine()}else{o=[this.lineText,this.appendBuffer];this.EvtBuffer.fire(o),o[1]!=this.appendBuffer&&this.outputChanged(o)}}},t.prototype.outputChanged=function(t){this.lineText=t[0],this.appendBuffer=t[1],this.$target.html(this.appendBuffer)},t.prototype.padStart=function(t,e,n){return e>>=0,n=String(void 0!==n?n:" "),t.length>=e?String(t):((e-=t.length)>n.length&&(n+=n.repeat(e/n.length)),n.slice(0,e)+String(t))},t.prototype.appendToCurrentTarget=function(t){this.$target.append(t)},t.prototype.line=function(){return this.$targetElems[1]},t.prototype.append=function(t,e){"<span></span>"!=t&&""!=t&&(e?(this.$target.append(t),this.$target==this.$rootElem&&(this.lineCount+=1),this.newLine()):this.appendToCurrentTarget(t))},t.prototype.time=function(){return'<span class="timeLog">'+this.padStart((new Date).toISOString().split("T")[1].split("Z")[0]+" ",12," ")+"</span>"},t.prototype.newLine=function(){for(;this.$targetElems.length>1;){var t=this.popElem();1==this.$targetElems.length&&this.logTime&&t.prepend(this.time())}this.pushElem($("<span>")),this.scrollBottom(),this.lineText="",this.lineCount+=1,this.lineCount>this.maxLines&&(this.$rootElem.children(":lt("+this.maxLines/2+")").remove(),this.lineCount=this.maxLines/2)},t.prototype.writeBuffer=function(){this.appendBuffer=""},t.prototype.outputDone=function(){this.writeBuffer(),this.scrollBottom()},t.prototype.push=function(t,e){this.lineText+=t,this.appendBuffer+=e},t.prototype.privScrolBottom=function(){var t=this.$rootElem;t.scrollTop(t.prop("scrollHeight")),this.scrollLock=!1,this.scrollRequested=!1},t.prototype.scrollBottom=function(t){var e=this;void 0===t&&(t=!1),this.scrollLock&&!0!==t||this.scrollRequested||(requestAnimationFrame((function(){return e.privScrolBottom()})),this.scrollRequested=!0)},t}();e.OutWinBase=l},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,r=t.indexOf("["),o=t.indexOf("]");-1!=r&&-1!=o&&(t=t.substring(0,r)+t.substring(r,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=n.exec(t||""),a={},c=14;c--;)a[i[c]]=s[c]||"";return-1!=r&&-1!=o&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e,n){(function(e){t.exports=function(t){return n&&e.isBuffer(t)||i&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))};var n="function"==typeof e&&"function"==typeof e.isBuffer,i="function"==typeof ArrayBuffer}).call(this,n(16).Buffer)},function(t,e,n){var i=n(75),r=n(34),o=n(14),s=n(13),a=n(35),c=n(36),l=n(8)("socket.io-client:manager"),u=n(33),h=n(91),f=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)f.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},p.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(t,e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",(function(){r.onopen(),t&&t()})),s=a(n,"error",(function(e){if(l("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var u=setTimeout((function(){l("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(o),this.subs.push(s),this},p.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",c(this,"ondata"))),this.subs.push(a(t,"ping",c(this,"onping"))),this.subs.push(a(t,"pong",c(this,"onpong"))),this.subs.push(a(t,"error",c(this,"onerror"))),this.subs.push(a(t,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit("packet",t)},p.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},p.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new r(this,t,e),this.nsps[t]=n;var i=this;n.on("connecting",o),n.on("connect",(function(){n.id=i.generateId(t)})),this.autoConnect&&o()}function o(){~u(i.connecting,n)||i.connecting.push(n)}return n},p.prototype.destroy=function(t){var e=u(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){l("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var i=0;i<n.length;i++)e.engine.write(n[i],t.options);e.encoding=!1,e.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout((function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){var i=n(17),r=n(78),o=n(87),s=n(88);e.polling=function(t){var e=!1,n=!1,s=!1!==t.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,c=location.port;c||(c=a?443:80),e=t.hostname!==location.hostname||c!==t.port,n=t.secure!==a}if(t.xdomain=e,t.xscheme=n,"open"in new i(t)&&!t.forceJSONP)return new r(t);if(!s)throw new Error("JSONP disabled");return new o(t)},e.websocket=s},function(t,e,n){var i=n(19),r=n(10),o=n(3),s=n(11),a=n(32),c=n(12)("engine.io-client:polling");t.exports=u;var l=null!=new(n(17))({xdomain:!1}).responseType;function u(t){var e=t&&t.forceBase64;l&&!e||(this.supportsBinary=!1),i.call(this,t)}s(u,i),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--i||n()}))),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",(function(){c("pre-pause writing complete"),--i||n()})))}else n()},u.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(t){var e=this;c("polling got data %s",t);o.decodePayload(t,this.socket.binaryType,(function(t,n,i){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},u.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,n)}))},u.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=r.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){(function(e){var i=n(15),r=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(i(n)){for(var r=0,a=n.length;r<a;r++)if(t(n[r]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||s&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&t(n[c]))return!0;return!1}}).call(this,n(16).Buffer)},function(t,e,n){"use strict";var i,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},s=0,a=0;function c(t){var e="";do{e=r[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function l(){var t=c(+new Date);return t!==i?(s=0,i=t):t+"."+c(s++)}for(;a<64;a++)o[r[a]]=a;l.encode=c,l.decode=function(t){var e=0;for(a=0;a<t.length;a++)e=64*e+o[t.charAt(a)];return e},t.exports=l},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},function(t,e,n){var i=n(13),r=n(14),o=n(90),s=n(35),a=n(36),c=n(8)("socket.io-client:socket"),l=n(10),u=n(31);t.exports=p;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=r.prototype.emit;function p(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},p.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},p.prototype.emit=function(t){if(h.hasOwnProperty(t))return f.apply(this,arguments),this;var e=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:u(e))?i.BINARY_EVENT:i.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},p.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?l.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},p.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},p.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===i.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},p.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},p.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=o(arguments);c("sending ack %j",r),e.packet({type:u(r)?i.BINARY_ACK:i.ACK,id:t,data:r})}}},p.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(t){return this.flags.compress=t,this},p.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}},function(t,e,n){t.exports=n(95)},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(1);function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var s=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),s.push(r(e)+"="+r(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var i=n(1),r=n(100),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(a=n(42)),a),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){c.headers[t]=i.merge(o)})),t.exports=c}).call(this,n(9))},function(t,e,n){"use strict";var i=n(1),r=n(101),o=n(39),s=n(103),a=n(106),c=n(107),l=n(43);t.exports=function(t){return new Promise((function(e,u){var h=t.data,f=t.headers;i.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",g=t.auth.password||"";f.Authorization="Basic "+btoa(d+":"+g)}var m=s(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),o(m,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};r(e,u,i),p=null}},p.onabort=function(){p&&(u(l("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(l("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),u(l(e,t,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var v=n(108),y=(t.withCredentials||c(m))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&i.forEach(f,(function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),u(t),p=null)})),void 0===h&&(h=null),p.send(h)}))}},function(t,e,n){"use strict";var i=n(102);t.exports=function(t,e,n,r,o){var s=new Error(t);return i(s,e,n,r,o)}},function(t,e,n){"use strict";var i=n(1);t.exports=function(t,e){e=e||{};var n={},r=["url","method","params","data"],o=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(r,(function(t){void 0!==e[t]&&(n[t]=e[t])})),i.forEach(o,(function(r){i.isObject(e[r])?n[r]=i.deepMerge(t[r],e[r]):void 0!==e[r]?n[r]=e[r]:i.isObject(t[r])?n[r]=i.deepMerge(t[r]):void 0!==t[r]&&(n[r]=t[r])})),i.forEach(s,(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])}));var a=r.concat(o).concat(s),c=Object.keys(e).filter((function(t){return-1===a.indexOf(t)}));return i.forEach(c,(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])})),n}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileManager=e.Profile=void 0;var s=n(4),a=n(0),c=n(22),l=n(6),u=n(5),h=function(){};e.Profile=h;var f=function(){function t(t){var e=this;this.baseConfig=t,this.appInfo=u.AppInfo,this.evtProfileChanged=new a.EventHook,this._current=null,this._activeConfig=new c.UserConfig,this.profiles=new Map,this.configs=new Map,this.activeChanged=function(t){return e.getCurrentConfig().copy(t),t},this.inSaving=!1,this.load()}return t.prototype.saveWindows=function(t){this._current&&(this.getProfile(this.getCurrent()).windows=t,this.saveProfiles())},Object.defineProperty(t.prototype,"activeConfig",{get:function(){return this._activeConfig},enumerable:!1,configurable:!0}),t.prototype.load=function(){var t,e,n=localStorage.getItem("profiles"),r=localStorage.getItem("lastProfile");if(n)try{this.profiles=new Map(JSON.parse(n));try{for(var o=i(this.profiles),s=o.next();!s.done;s=o.next()){var a=s.value;this.configs.set(a[0],this.createConfig(localStorage.getItem("config_"+a[0]),a[0]))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}catch(t){l.messagebox("Errore","Non riesco a leggere i profili",null,"Ok","",null,null)}r&&!this.profiles.has(r)&&(r="",l.messagebox("Errore","Non riesco a trovare il profilo usato precedentemente. Uso il base.",null,"Ok","",null,null)),this.setCurrent(null!=r?r:"")},t.prototype.saveConfigToStorage=function(t){var e=this;return function(n){return localStorage.setItem("config_"+t,n),e.saveProfiles(),n}},t.prototype.getProfile=function(t){return this.profiles.get(t)},t.prototype.getProfiles=function(){var t=[];return this.profiles.forEach((function(e,n){t.push(n)})),t},t.prototype.setCurrent=function(t){this._current!=t&&(this._current=t,this.evtProfileChanged.fire({current:t}),this.saveProfiles(),this.activeConfig.init(this.getCurrentConfig().saveConfig(),this.activeChanged),this.setTitle())},t.prototype.setTitle=function(){this._current?document.title=this.appInfo.AppTitle+" - "+this._current:document.title=this.appInfo.AppTitle+" - Server Live"},t.prototype.getCurrent=function(){return this._current},t.prototype.createConfig=function(t,e){var n=new c.UserConfig;return n.init(t,this.saveConfigToStorage(e)),s.Mudslinger.setDefaults(n),n},t.prototype.create=function(t){this.profiles.set(t.name,t);var e=this.createConfig(null,t.name);this.configs.set(t.name,e),this.setCurrent(t.name),this.saveProfiles()},t.prototype.rename=function(t,e){var n=this.getConfigFor(e);if(n){var i=n.saveConfig();n.init(i,this.saveConfigToStorage(t.name))}else n=this.createConfig(null,t.name);this.configs.delete(e),localStorage.removeItem("config_"+e),this.profiles.delete(e),this.profiles.set(t.name,t),this.configs.set(t.name,n),this.saveProfiles(),this._current==e&&this.setCurrent(t.name),this.load()},t.prototype.delete=function(t){this.configs.delete(t.name),this.profiles.delete(t.name),localStorage.removeItem("config_"+t.name),this._current==t.name&&this.setCurrent(""),this.saveProfiles(),this.load()},t.prototype.getCurrentConfig=function(){return this._current?this.configs.get(this._current):this.baseConfig},t.prototype.getConfigFor=function(t){return t?this.configs.get(t):this.baseConfig},t.prototype.saveProfiles=function(){if(!this.inSaving){this.inSaving=!0;try{localStorage.setItem("profiles",JSON.stringify(o(this.profiles))),localStorage.setItem("lastProfile",this._current),this.configs.forEach((function(t){t.saveConfig()}))}finally{this.inSaving=!1}}},t}();e.ProfileManager=f},function(t,e,n){var i,r;!function(o,s,a){"use strict";"undefined"!=typeof window&&n(48)?void 0===(r="function"==typeof(i=a)?i.call(e,n,e,t):i)||(t.exports=r):t.exports?t.exports=a():s.exports?s.exports=a():s.Fingerprint2=a()}(0,this,(function(){"use strict";void 0===Array.isArray&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var t=function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]+e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]+e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]+e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]+e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},e=function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]*e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]*e[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=t[3]*e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]*e[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[2]*e[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[3]*e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},n=function(t,e){return 32===(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])},i=function(t,e){return 0===(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]},r=function(t,e){return[t[0]^e[0],t[1]^e[1]]},o=function(t){return t=r(t,[0,t[0]>>>1]),t=e(t,[4283543511,3981806797]),t=r(t,[0,t[0]>>>1]),t=e(t,[3301882366,444984403]),t=r(t,[0,t[0]>>>1])},s=function(s,a){a=a||0;for(var c=(s=s||"").length%16,l=s.length-c,u=[0,a],h=[0,a],f=[0,0],p=[0,0],d=[2277735313,289559509],g=[1291169091,658871167],m=0;m<l;m+=16)f=[255&s.charCodeAt(m+4)|(255&s.charCodeAt(m+5))<<8|(255&s.charCodeAt(m+6))<<16|(255&s.charCodeAt(m+7))<<24,255&s.charCodeAt(m)|(255&s.charCodeAt(m+1))<<8|(255&s.charCodeAt(m+2))<<16|(255&s.charCodeAt(m+3))<<24],p=[255&s.charCodeAt(m+12)|(255&s.charCodeAt(m+13))<<8|(255&s.charCodeAt(m+14))<<16|(255&s.charCodeAt(m+15))<<24,255&s.charCodeAt(m+8)|(255&s.charCodeAt(m+9))<<8|(255&s.charCodeAt(m+10))<<16|(255&s.charCodeAt(m+11))<<24],f=e(f,d),f=n(f,31),f=e(f,g),u=r(u,f),u=n(u,27),u=t(u,h),u=t(e(u,[0,5]),[0,1390208809]),p=e(p,g),p=n(p,33),p=e(p,d),h=r(h,p),h=n(h,31),h=t(h,u),h=t(e(h,[0,5]),[0,944331445]);switch(f=[0,0],p=[0,0],c){case 15:p=r(p,i([0,s.charCodeAt(m+14)],48));case 14:p=r(p,i([0,s.charCodeAt(m+13)],40));case 13:p=r(p,i([0,s.charCodeAt(m+12)],32));case 12:p=r(p,i([0,s.charCodeAt(m+11)],24));case 11:p=r(p,i([0,s.charCodeAt(m+10)],16));case 10:p=r(p,i([0,s.charCodeAt(m+9)],8));case 9:p=r(p,[0,s.charCodeAt(m+8)]),p=e(p,g),p=n(p,33),p=e(p,d),h=r(h,p);case 8:f=r(f,i([0,s.charCodeAt(m+7)],56));case 7:f=r(f,i([0,s.charCodeAt(m+6)],48));case 6:f=r(f,i([0,s.charCodeAt(m+5)],40));case 5:f=r(f,i([0,s.charCodeAt(m+4)],32));case 4:f=r(f,i([0,s.charCodeAt(m+3)],24));case 3:f=r(f,i([0,s.charCodeAt(m+2)],16));case 2:f=r(f,i([0,s.charCodeAt(m+1)],8));case 1:f=r(f,[0,s.charCodeAt(m)]),f=e(f,d),f=n(f,31),f=e(f,g),u=r(u,f)}return u=r(u,[0,s.length]),h=r(h,[0,s.length]),u=t(u,h),h=t(h,u),u=o(u),h=o(h),u=t(u,h),h=t(h,u),("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)+("00000000"+(h[0]>>>0).toString(16)).slice(-8)+("00000000"+(h[1]>>>0).toString(16)).slice(-8)},a={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",userDefinedFonts:[],extendedJsFonts:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},extraComponents:[],excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0,adBlock:!0},NOT_AVAILABLE:"not available",ERROR:"error",EXCLUDED:"excluded"},c=function(t,e){if(Array.prototype.forEach&&t.forEach===Array.prototype.forEach)t.forEach(e);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)e(t[n],n,t);else for(var r in t)t.hasOwnProperty(r)&&e(t[r],r,t)},l=function(t,e){var n=[];return null==t?n:Array.prototype.map&&t.map===Array.prototype.map?t.map(e):(c(t,(function(t,i,r){n.push(e(t,i,r))})),n)},u=function(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices},h=function(t){var e=[window.screen.width,window.screen.height];return t.screen.detectScreenOrientation&&e.sort().reverse(),e},f=function(t){if(window.screen.availWidth&&window.screen.availHeight){var e=[window.screen.availHeight,window.screen.availWidth];return t.screen.detectScreenOrientation&&e.sort().reverse(),e}return t.NOT_AVAILABLE},p=function(t){if(null==navigator.plugins)return t.NOT_AVAILABLE;for(var e=[],n=0,i=navigator.plugins.length;n<i;n++)navigator.plugins[n]&&e.push(navigator.plugins[n]);return g(t)&&(e=e.sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:0}))),l(e,(function(t){var e=l(t,(function(t){return[t.type,t.suffixes]}));return[t.name,t.description,e]}))},d=function(t){var e=[];if(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window){e=l(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],(function(e){try{return new window.ActiveXObject(e),e}catch(e){return t.ERROR}}))}else e.push(t.NOT_AVAILABLE);return navigator.plugins&&(e=e.concat(p(t))),e},g=function(t){for(var e=!1,n=0,i=t.plugins.sortPluginsFor.length;n<i;n++){var r=t.plugins.sortPluginsFor[n];if(navigator.userAgent.match(r)){e=!0;break}}return e},m=function(t){try{return!!window.sessionStorage}catch(e){return t.ERROR}},v=function(t){try{return!!window.localStorage}catch(e){return t.ERROR}},y=function(t){if(R())return t.EXCLUDED;try{return!!window.indexedDB}catch(e){return t.ERROR}},b=function(t){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:t.NOT_AVAILABLE},w=function(t){return navigator.cpuClass||t.NOT_AVAILABLE},C=function(t){return navigator.platform?navigator.platform:t.NOT_AVAILABLE},E=function(t){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:t.NOT_AVAILABLE},x=function(){var t,e=0;void 0!==navigator.maxTouchPoints?e=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){t=!1}return[e,t,"ontouchstart"in window]},T=function(t){var e=[],n=document.createElement("canvas");n.width=2e3,n.height=200,n.style.display="inline";var i=n.getContext("2d");return i.rect(0,0,10,10),i.rect(2,2,6,6),e.push("canvas winding:"+(!1===i.isPointInPath(5,5,"evenodd")?"yes":"no")),i.textBaseline="alphabetic",i.fillStyle="#f60",i.fillRect(125,1,62,20),i.fillStyle="#069",t.dontUseFakeFontInCanvas?i.font="11pt Arial":i.font="11pt no-real-font-123",i.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),i.fillStyle="rgba(102, 204, 0, 0.2)",i.font="18pt Arial",i.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),i.globalCompositeOperation="multiply",i.fillStyle="rgb(255,0,255)",i.beginPath(),i.arc(50,50,50,0,2*Math.PI,!0),i.closePath(),i.fill(),i.fillStyle="rgb(0,255,255)",i.beginPath(),i.arc(100,50,50,0,2*Math.PI,!0),i.closePath(),i.fill(),i.fillStyle="rgb(255,255,0)",i.beginPath(),i.arc(75,100,50,0,2*Math.PI,!0),i.closePath(),i.fill(),i.fillStyle="rgb(255,0,255)",i.arc(75,75,75,0,2*Math.PI,!0),i.arc(75,75,25,0,2*Math.PI,!0),i.fill("evenodd"),n.toDataURL&&e.push("canvas fp:"+n.toDataURL()),e},A=function(){var t,e=function(e){return t.clearColor(0,0,0,1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),"["+e[0]+", "+e[1]+"]"};if(!(t=D()))return null;var n=[],i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i);var r=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),i.itemSize=3,i.numItems=3;var o=t.createProgram(),s=t.createShader(t.VERTEX_SHADER);t.shaderSource(s,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),t.compileShader(s);var a=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(a,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),t.compileShader(a),t.attachShader(o,s),t.attachShader(o,a),t.linkProgram(o),t.useProgram(o),o.vertexPosAttrib=t.getAttribLocation(o,"attrVertex"),o.offsetUniform=t.getUniformLocation(o,"uniformOffset"),t.enableVertexAttribArray(o.vertexPosArray),t.vertexAttribPointer(o.vertexPosAttrib,i.itemSize,t.FLOAT,!1,0,0),t.uniform2f(o.offsetUniform,1,1),t.drawArrays(t.TRIANGLE_STRIP,0,i.numItems);try{n.push(t.canvas.toDataURL())}catch(t){}n.push("extensions:"+(t.getSupportedExtensions()||[]).join(";")),n.push("webgl aliased line width range:"+e(t.getParameter(t.ALIASED_LINE_WIDTH_RANGE))),n.push("webgl aliased point size range:"+e(t.getParameter(t.ALIASED_POINT_SIZE_RANGE))),n.push("webgl alpha bits:"+t.getParameter(t.ALPHA_BITS)),n.push("webgl antialiasing:"+(t.getContextAttributes().antialias?"yes":"no")),n.push("webgl blue bits:"+t.getParameter(t.BLUE_BITS)),n.push("webgl depth bits:"+t.getParameter(t.DEPTH_BITS)),n.push("webgl green bits:"+t.getParameter(t.GREEN_BITS)),n.push("webgl max anisotropy:"+function(t){var e=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic");if(e){var n=t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===n&&(n=2),n}return null}(t)),n.push("webgl max combined texture image units:"+t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),n.push("webgl max cube map texture size:"+t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE)),n.push("webgl max fragment uniform vectors:"+t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS)),n.push("webgl max render buffer size:"+t.getParameter(t.MAX_RENDERBUFFER_SIZE)),n.push("webgl max texture image units:"+t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),n.push("webgl max texture size:"+t.getParameter(t.MAX_TEXTURE_SIZE)),n.push("webgl max varying vectors:"+t.getParameter(t.MAX_VARYING_VECTORS)),n.push("webgl max vertex attribs:"+t.getParameter(t.MAX_VERTEX_ATTRIBS)),n.push("webgl max vertex texture image units:"+t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),n.push("webgl max vertex uniform vectors:"+t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS)),n.push("webgl max viewport dims:"+e(t.getParameter(t.MAX_VIEWPORT_DIMS))),n.push("webgl red bits:"+t.getParameter(t.RED_BITS)),n.push("webgl renderer:"+t.getParameter(t.RENDERER)),n.push("webgl shading language version:"+t.getParameter(t.SHADING_LANGUAGE_VERSION)),n.push("webgl stencil bits:"+t.getParameter(t.STENCIL_BITS)),n.push("webgl vendor:"+t.getParameter(t.VENDOR)),n.push("webgl version:"+t.getParameter(t.VERSION));try{var l=t.getExtension("WEBGL_debug_renderer_info");l&&(n.push("webgl unmasked vendor:"+t.getParameter(l.UNMASKED_VENDOR_WEBGL)),n.push("webgl unmasked renderer:"+t.getParameter(l.UNMASKED_RENDERER_WEBGL)))}catch(t){}return t.getShaderPrecisionFormat?(c(["FLOAT","INT"],(function(e){c(["VERTEX","FRAGMENT"],(function(i){c(["HIGH","MEDIUM","LOW"],(function(r){c(["precision","rangeMin","rangeMax"],(function(o){var s=t.getShaderPrecisionFormat(t[i+"_SHADER"],t[r+"_"+e])[o];"precision"!==o&&(o="precision "+o);var a=["webgl ",i.toLowerCase()," shader ",r.toLowerCase()," ",e.toLowerCase()," ",o,":",s].join("");n.push(a)}))}))}))})),j(t),n):(j(t),n)},S=function(){try{var t=D(),e=t.getExtension("WEBGL_debug_renderer_info"),n=t.getParameter(e.UNMASKED_VENDOR_WEBGL)+"~"+t.getParameter(e.UNMASKED_RENDERER_WEBGL);return j(t),n}catch(t){return null}},k=function(){var t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox";var e=!1;try{document.body.appendChild(t),e=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(t)}catch(t){e=!1}return e},_=function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(t){return!0}return!1},B=function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},O=function(){var t,e=navigator.userAgent.toLowerCase(),n=navigator.oscpu,i=navigator.platform.toLowerCase();if(t=e.indexOf("windows phone")>=0?"Windows Phone":e.indexOf("windows")>=0||e.indexOf("win16")>=0||e.indexOf("win32")>=0||e.indexOf("win64")>=0||e.indexOf("win95")>=0||e.indexOf("win98")>=0||e.indexOf("winnt")>=0||e.indexOf("wow64")>=0?"Windows":e.indexOf("android")>=0?"Android":e.indexOf("linux")>=0||e.indexOf("cros")>=0||e.indexOf("x11")>=0?"Linux":e.indexOf("iphone")>=0||e.indexOf("ipad")>=0||e.indexOf("ipod")>=0||e.indexOf("crios")>=0||e.indexOf("fxios")>=0?"iOS":e.indexOf("macintosh")>=0||e.indexOf("mac_powerpc)")>=0?"Mac":"Other",("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows"!==t&&"Windows Phone"!==t&&"Android"!==t&&"iOS"!==t&&"Other"!==t&&-1===e.indexOf("cros"))return!0;if(void 0!==n){if((n=n.toLowerCase()).indexOf("win")>=0&&"Windows"!==t&&"Windows Phone"!==t)return!0;if(n.indexOf("linux")>=0&&"Linux"!==t&&"Android"!==t)return!0;if(n.indexOf("mac")>=0&&"Mac"!==t&&"iOS"!==t)return!0;if((-1===n.indexOf("win")&&-1===n.indexOf("linux")&&-1===n.indexOf("mac"))!=("Other"===t))return!0}return i.indexOf("win")>=0&&"Windows"!==t&&"Windows Phone"!==t||((i.indexOf("linux")>=0||i.indexOf("android")>=0||i.indexOf("pike")>=0)&&"Linux"!==t&&"Android"!==t||((i.indexOf("mac")>=0||i.indexOf("ipad")>=0||i.indexOf("ipod")>=0||i.indexOf("iphone")>=0)&&"Mac"!==t&&"iOS"!==t||!(i.indexOf("arm")>=0&&"Windows Phone"===t)&&(!(i.indexOf("pike")>=0&&e.indexOf("opera mini")>=0)&&((i.indexOf("win")<0&&i.indexOf("linux")<0&&i.indexOf("mac")<0&&i.indexOf("iphone")<0&&i.indexOf("ipad")<0&&i.indexOf("ipod")<0)!==("Other"===t)||void 0===navigator.plugins&&"Windows"!==t&&"Windows Phone"!==t))))},I=function(){var t,e=navigator.userAgent.toLowerCase(),n=navigator.productSub;if(e.indexOf("edge/")>=0||e.indexOf("iemobile/")>=0)return!1;if(e.indexOf("opera mini")>=0)return!1;if(("Chrome"===(t=e.indexOf("firefox/")>=0?"Firefox":e.indexOf("opera/")>=0||e.indexOf(" opr/")>=0?"Opera":e.indexOf("chrome/")>=0?"Chrome":e.indexOf("safari/")>=0?e.indexOf("android 1.")>=0||e.indexOf("android 2.")>=0||e.indexOf("android 3.")>=0||e.indexOf("android 4.")>=0?"AOSP":"Safari":e.indexOf("trident/")>=0?"Internet Explorer":"Other")||"Safari"===t||"Opera"===t)&&"20030107"!==n)return!0;var i,r=eval.toString().length;if(37===r&&"Safari"!==t&&"Firefox"!==t&&"Other"!==t)return!0;if(39===r&&"Internet Explorer"!==t&&"Other"!==t)return!0;if(33===r&&"Chrome"!==t&&"AOSP"!==t&&"Opera"!==t&&"Other"!==t)return!0;try{throw"a"}catch(t){try{t.toSource(),i=!0}catch(t){i=!1}}return i&&"Firefox"!==t&&"Other"!==t},M=function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},P=function(){if(!M())return!1;var t=D(),e=!!window.WebGLRenderingContext&&!!t;return j(t),e},N=function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},R=function(){return("msWriteProfilerMark"in window)+("msLaunchUri"in navigator)+("msSaveBlob"in navigator)>=2},F=function(){return void 0!==window.swfobject},L=function(){return window.swfobject.hasFlashPlayerVersion("9.0.0")},$=function(t,e){window.___fp_swf_loaded=function(e){t(e)};var n=e.fonts.swfContainerId;!function(t){var e=document.createElement("div");e.setAttribute("id",t.fonts.swfContainerId),document.body.appendChild(e)}();var i={onReady:"___fp_swf_loaded"};window.swfobject.embedSWF(e.fonts.swfPath,n,"1","1","9.0.0",!1,i,{allowScriptAccess:"always",menu:"false"},{})},D=function(){var t=document.createElement("canvas"),e=null;try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(t){}return e||(e=null),e},j=function(t){var e=t.getExtension("WEBGL_lose_context");null!=e&&e.loseContext()},U=[{key:"userAgent",getData:function(t){t(navigator.userAgent)}},{key:"webdriver",getData:function(t,e){t(null==navigator.webdriver?e.NOT_AVAILABLE:navigator.webdriver)}},{key:"language",getData:function(t,e){t(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||e.NOT_AVAILABLE)}},{key:"colorDepth",getData:function(t,e){t(window.screen.colorDepth||e.NOT_AVAILABLE)}},{key:"deviceMemory",getData:function(t,e){t(navigator.deviceMemory||e.NOT_AVAILABLE)}},{key:"pixelRatio",getData:function(t,e){t(window.devicePixelRatio||e.NOT_AVAILABLE)}},{key:"hardwareConcurrency",getData:function(t,e){t(b(e))}},{key:"screenResolution",getData:function(t,e){t(h(e))}},{key:"availableScreenResolution",getData:function(t,e){t(f(e))}},{key:"timezoneOffset",getData:function(t){t((new Date).getTimezoneOffset())}},{key:"timezone",getData:function(t,e){window.Intl&&window.Intl.DateTimeFormat?t((new window.Intl.DateTimeFormat).resolvedOptions().timeZone||e.NOT_AVAILABLE):t(e.NOT_AVAILABLE)}},{key:"sessionStorage",getData:function(t,e){t(m(e))}},{key:"localStorage",getData:function(t,e){t(v(e))}},{key:"indexedDb",getData:function(t,e){t(y(e))}},{key:"addBehavior",getData:function(t){t(!!window.HTMLElement.prototype.addBehavior)}},{key:"openDatabase",getData:function(t){t(!!window.openDatabase)}},{key:"cpuClass",getData:function(t,e){t(w(e))}},{key:"platform",getData:function(t,e){t(C(e))}},{key:"doNotTrack",getData:function(t,e){t(E(e))}},{key:"plugins",getData:function(t,e){N()?e.plugins.excludeIE?t(e.EXCLUDED):t(d(e)):t(p(e))}},{key:"canvas",getData:function(t,e){M()?t(T(e)):t(e.NOT_AVAILABLE)}},{key:"webgl",getData:function(t,e){P()?t(A()):t(e.NOT_AVAILABLE)}},{key:"webglVendorAndRenderer",getData:function(t){P()?t(S()):t()}},{key:"adBlock",getData:function(t){t(k())}},{key:"hasLiedLanguages",getData:function(t){t(_())}},{key:"hasLiedResolution",getData:function(t){t(B())}},{key:"hasLiedOs",getData:function(t){t(O())}},{key:"hasLiedBrowser",getData:function(t){t(I())}},{key:"touchSupport",getData:function(t){t(x())}},{key:"fonts",getData:function(t,e){var n=["monospace","sans-serif","serif"],i=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];if(e.fonts.extendedJsFonts){i=i.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])}i=(i=i.concat(e.fonts.userDefinedFonts)).filter((function(t,e){return i.indexOf(t)===e}));var r=document.getElementsByTagName("body")[0],o=document.createElement("div"),s=document.createElement("div"),a={},c={},l=function(){var t=document.createElement("span");return t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="72px",t.style.fontStyle="normal",t.style.fontWeight="normal",t.style.letterSpacing="normal",t.style.lineBreak="auto",t.style.lineHeight="normal",t.style.textTransform="none",t.style.textAlign="left",t.style.textDecoration="none",t.style.textShadow="none",t.style.whiteSpace="normal",t.style.wordBreak="normal",t.style.wordSpacing="normal",t.innerHTML="mmmmmmmmmmlli",t},u=function(t,e){var n=l();return n.style.fontFamily="'"+t+"',"+e,n},h=function(t){for(var e=!1,i=0;i<n.length;i++)if(e=t[i].offsetWidth!==a[n[i]]||t[i].offsetHeight!==c[n[i]])return e;return e},f=function(){for(var t=[],e=0,i=n.length;e<i;e++){var r=l();r.style.fontFamily=n[e],o.appendChild(r),t.push(r)}return t}();r.appendChild(o);for(var p=0,d=n.length;p<d;p++)a[n[p]]=f[p].offsetWidth,c[n[p]]=f[p].offsetHeight;var g=function(){for(var t={},e=0,r=i.length;e<r;e++){for(var o=[],a=0,c=n.length;a<c;a++){var l=u(i[e],n[a]);s.appendChild(l),o.push(l)}t[i[e]]=o}return t}();r.appendChild(s);for(var m=[],v=0,y=i.length;v<y;v++)h(g[i[v]])&&m.push(i[v]);r.removeChild(s),r.removeChild(o),t(m)},pauseBefore:!0},{key:"fontsFlash",getData:function(t,e){return F()?L()?e.fonts.swfPath?void $((function(e){t(e)}),e):t("missing options.fonts.swfPath"):t("flash not installed"):t("swf object not loaded")},pauseBefore:!0},{key:"audio",getData:function(t,e){var n=e.audio;if(n.excludeIOS11&&navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))return t(e.EXCLUDED);var i=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(null==i)return t(e.NOT_AVAILABLE);var r=new i(1,44100,44100),o=r.createOscillator();o.type="triangle",o.frequency.setValueAtTime(1e4,r.currentTime);var s=r.createDynamicsCompressor();c([["threshold",-50],["knee",40],["ratio",12],["reduction",-20],["attack",0],["release",.25]],(function(t){void 0!==s[t[0]]&&"function"==typeof s[t[0]].setValueAtTime&&s[t[0]].setValueAtTime(t[1],r.currentTime)})),o.connect(s),s.connect(r.destination),o.start(0),r.startRendering();var a=setTimeout((function(){return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/fingerprintjs/fingerprintjs with your user agent: "'+navigator.userAgent+'".'),r.oncomplete=function(){},r=null,t("audioTimeout")}),n.timeout);r.oncomplete=function(e){var n;try{clearTimeout(a),n=e.renderedBuffer.getChannelData(0).slice(4500,5e3).reduce((function(t,e){return t+Math.abs(e)}),0).toString(),o.disconnect(),s.disconnect()}catch(e){return void t(e)}t(n)}}},{key:"enumerateDevices",getData:function(t,e){if(!u())return t(e.NOT_AVAILABLE);navigator.mediaDevices.enumerateDevices().then((function(e){t(e.map((function(t){return"id="+t.deviceId+";gid="+t.groupId+";"+t.kind+";"+t.label})))})).catch((function(e){t(e)}))}}],W=function(t){throw new Error("'new Fingerprint()' is deprecated, see https://github.com/fingerprintjs/fingerprintjs#upgrade-guide-from-182-to-200")};return W.get=function(t,e){e?t||(t={}):(e=t,t={}),function(t,e){if(null==e)return t;var n,i;for(i in e)null==(n=e[i])||Object.prototype.hasOwnProperty.call(t,i)||(t[i]=n)}(t,a),t.components=t.extraComponents.concat(U);var n={data:[],addPreprocessedComponent:function(e,i){"function"==typeof t.preprocessor&&(i=t.preprocessor(e,i)),n.data.push({key:e,value:i})}},i=-1,r=function(o){if((i+=1)>=t.components.length)e(n.data);else{var s=t.components[i];if(t.excludes[s.key])r(!1);else{if(!o&&s.pauseBefore)return i-=1,void setTimeout((function(){r(!0)}),1);try{s.getData((function(t){n.addPreprocessedComponent(s.key,t),r(!1)}),t)}catch(t){n.addPreprocessedComponent(s.key,String(t)),r(!1)}}}};r(!1)},W.getPromise=function(t){return new Promise((function(e,n){W.get(t,e)}))},W.getV18=function(t,e){return null==e&&(e=t,t={}),W.get(t,(function(n){for(var i=[],r=0;r<n.length;r++){var o=n[r];if(o.value===(t.NOT_AVAILABLE||"not available"))i.push({key:o.key,value:"unknown"});else if("plugins"===o.key)i.push({key:"plugins",value:l(o.value,(function(t){var e=l(t[2],(function(t){return t.join?t.join("~"):t})).join(",");return[t[0],t[1],e].join("::")}))});else if(-1!==["canvas","webgl"].indexOf(o.key)&&Array.isArray(o.value))i.push({key:o.key,value:o.value.join("~")});else if(-1!==["sessionStorage","localStorage","indexedDb","addBehavior","openDatabase"].indexOf(o.key)){if(!o.value)continue;i.push({key:o.key,value:1})}else o.value?i.push(o.value.join?{key:o.key,value:o.value.join(";")}:o):i.push({key:o.key,value:o.value})}var a=s(l(i,(function(t){return t.value})).join("~~~"),31);e(a,i)}))},W.x64hash128=s,W.VERSION="2.1.4",W}))},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendStr(t).end(e)},t.hashAsciiStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendAsciiStr(t).end(e)},t._hex=function(e){var n,i,r,o,s=t.hexChars,a=t.hexOut;for(o=0;o<4;o+=1)for(i=8*o,n=e[o],r=0;r<8;r+=2)a[i+1+r]=s.charAt(15&n),n>>>=4,a[i+0+r]=s.charAt(15&n),n>>>=4;return a.join("")},t._md5cycle=function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+e[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+e[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+e[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+e[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+e[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+e[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+e[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+e[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+e[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+e[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+e[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+e[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+e[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+e[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+e[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+e[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+e[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+e[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+e[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+e[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+e[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+e[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+e[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+e[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+e[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+e[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+e[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+e[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+e[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+e[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+e[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+e[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+e[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+e[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+e[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+e[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+e[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+e[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+e[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+e[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+e[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+e[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+e[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+e[9]-343485551|0)<<21|i>>>11)+r|0,t[0]=n+t[0]|0,t[1]=i+t[1]|0,t[2]=r+t[2]|0,t[3]=o+t[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n,i,r=this._buffer8,o=this._buffer32,s=this._bufferLength;for(i=0;i<e.length;i+=1){if((n=e.charCodeAt(i))<128)r[s++]=n;else if(n<2048)r[s++]=192+(n>>>6),r[s++]=63&n|128;else if(n<55296||n>56319)r[s++]=224+(n>>>12),r[s++]=n>>>6&63|128,r[s++]=63&n|128;else{if((n=1024*(n-55296)+(e.charCodeAt(++i)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");r[s++]=240+(n>>>18),r[s++]=n>>>12&63|128,r[s++]=n>>>6&63|128,r[s++]=63&n|128}s>=64&&(this._dataLength+=64,t._md5cycle(this._state,o),s-=64,o[0]=o[16])}return this._bufferLength=s,this},t.prototype.appendAsciiStr=function(e){for(var n,i=this._buffer8,r=this._buffer32,o=this._bufferLength,s=0;;){for(n=Math.min(e.length-s,64-o);n--;)i[o++]=e.charCodeAt(s++);if(o<64)break;this._dataLength+=64,t._md5cycle(this._state,r),o=0}return this._bufferLength=o,this},t.prototype.appendByteArray=function(e){for(var n,i=this._buffer8,r=this._buffer32,o=this._bufferLength,s=0;;){for(n=Math.min(e.length-s,64-o);n--;)i[o++]=e[s++];if(o<64)break;this._dataLength+=64,t._md5cycle(this._state,r),o=0}return this._bufferLength=o,this},t.prototype.getState=function(){var t=this._state;return{buffer:String.fromCharCode.apply(null,this._buffer8),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}},t.prototype.setState=function(t){var e,n=t.buffer,i=t.state,r=this._state;for(this._dataLength=t.length,this._bufferLength=t.buflen,r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],e=0;e<n.length;e+=1)this._buffer8[e]=n.charCodeAt(e)},t.prototype.end=function(e){void 0===e&&(e=!1);var n,i=this._bufferLength,r=this._buffer8,o=this._buffer32,s=1+(i>>2);if(this._dataLength+=i,r[i]=128,r[i+1]=r[i+2]=r[i+3]=0,o.set(t.buffer32Identity.subarray(s),s),i>55&&(t._md5cycle(this._state,o),o.set(t.buffer32Identity)),(n=8*this._dataLength)<=4294967295)o[14]=n;else{var a=n.toString(16).match(/(.*?)(.{0,8})$/);if(null===a)return;var c=parseInt(a[2],16),l=parseInt(a[1],16)||0;o[14]=c,o[15]=l}return t._md5cycle(this._state,o),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();e.Md5=i,"5d41402abc4b2a76b9719d911017c592"!==i.hashStr("hello")&&console.error("Md5 self test failed.")},function(t,e,n){
/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */
!function(e){"use strict";function n(t){return parseInt(t)===t}function i(t){if(!n(t.length))return!1;for(var e=0;e<t.length;e++)if(!n(t[e])||t[e]<0||t[e]>255)return!1;return!0}function r(t,e){if(t.buffer&&"Uint8Array"===t.name)return e&&(t=t.slice?t.slice():Array.prototype.slice.call(t)),t;if(Array.isArray(t)){if(!i(t))throw new Error("Array contains invalid value: "+t);return new Uint8Array(t)}if(n(t.length)&&i(t))return new Uint8Array(t);throw new Error("unsupported array-like object")}function o(t){return new Uint8Array(t)}function s(t,e,n,i,r){null==i&&null==r||(t=t.slice?t.slice(i,r):Array.prototype.slice.call(t,i,r)),e.set(t,n)}var a,c={toBytes:function(t){var e=[],n=0;for(t=encodeURI(t);n<t.length;){var i=t.charCodeAt(n++);37===i?(e.push(parseInt(t.substr(n,2),16)),n+=2):e.push(i)}return r(e)},fromBytes:function(t){for(var e=[],n=0;n<t.length;){var i=t[n];i<128?(e.push(String.fromCharCode(i)),n++):i>191&&i<224?(e.push(String.fromCharCode((31&i)<<6|63&t[n+1])),n+=2):(e.push(String.fromCharCode((15&i)<<12|(63&t[n+1])<<6|63&t[n+2])),n+=3)}return e.join("")}},l=(a="0123456789abcdef",{toBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},fromBytes:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];e.push(a[(240&i)>>4]+a[15&i])}return e.join("")}}),u={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],f=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],p=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],d=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],y=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],C=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],E=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],x=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],T=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],A=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function S(t){for(var e=[],n=0;n<t.length;n+=4)e.push(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]);return e}var k=function(t){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:r(t,!0)}),this._prepare()};k.prototype._prepare=function(){var t=u[this.key.length];if(null==t)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var e=0;e<=t;e++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var n,i=4*(t+1),r=this.key.length/4,o=S(this.key);for(e=0;e<r;e++)n=e>>2,this._Ke[n][e%4]=o[e],this._Kd[t-n][e%4]=o[e];for(var s,a=0,c=r;c<i;){if(s=o[r-1],o[0]^=f[s>>16&255]<<24^f[s>>8&255]<<16^f[255&s]<<8^f[s>>24&255]^h[a]<<24,a+=1,8!=r)for(e=1;e<r;e++)o[e]^=o[e-1];else{for(e=1;e<r/2;e++)o[e]^=o[e-1];s=o[r/2-1],o[r/2]^=f[255&s]^f[s>>8&255]<<8^f[s>>16&255]<<16^f[s>>24&255]<<24;for(e=r/2+1;e<r;e++)o[e]^=o[e-1]}for(e=0;e<r&&c<i;)l=c>>2,p=c%4,this._Ke[l][p]=o[e],this._Kd[t-l][p]=o[e++],c++}for(var l=1;l<t;l++)for(var p=0;p<4;p++)s=this._Kd[l][p],this._Kd[l][p]=E[s>>24&255]^x[s>>16&255]^T[s>>8&255]^A[255&s]},k.prototype.encrypt=function(t){if(16!=t.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var e=this._Ke.length-1,n=[0,0,0,0],i=S(t),r=0;r<4;r++)i[r]^=this._Ke[0][r];for(var s=1;s<e;s++){for(r=0;r<4;r++)n[r]=d[i[r]>>24&255]^g[i[(r+1)%4]>>16&255]^m[i[(r+2)%4]>>8&255]^v[255&i[(r+3)%4]]^this._Ke[s][r];i=n.slice()}var a,c=o(16);for(r=0;r<4;r++)a=this._Ke[e][r],c[4*r]=255&(f[i[r]>>24&255]^a>>24),c[4*r+1]=255&(f[i[(r+1)%4]>>16&255]^a>>16),c[4*r+2]=255&(f[i[(r+2)%4]>>8&255]^a>>8),c[4*r+3]=255&(f[255&i[(r+3)%4]]^a);return c},k.prototype.decrypt=function(t){if(16!=t.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var e=this._Kd.length-1,n=[0,0,0,0],i=S(t),r=0;r<4;r++)i[r]^=this._Kd[0][r];for(var s=1;s<e;s++){for(r=0;r<4;r++)n[r]=y[i[r]>>24&255]^b[i[(r+3)%4]>>16&255]^w[i[(r+2)%4]>>8&255]^C[255&i[(r+1)%4]]^this._Kd[s][r];i=n.slice()}var a,c=o(16);for(r=0;r<4;r++)a=this._Kd[e][r],c[4*r]=255&(p[i[r]>>24&255]^a>>24),c[4*r+1]=255&(p[i[(r+3)%4]>>16&255]^a>>16),c[4*r+2]=255&(p[i[(r+2)%4]>>8&255]^a>>8),c[4*r+3]=255&(p[255&i[(r+1)%4]]^a);return c};var _=function(t){if(!(this instanceof _))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new k(t)};_.prototype.encrypt=function(t){if((t=r(t)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=o(t.length),n=o(16),i=0;i<t.length;i+=16)s(t,n,0,i,i+16),s(n=this._aes.encrypt(n),e,i);return e},_.prototype.decrypt=function(t){if((t=r(t)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=o(t.length),n=o(16),i=0;i<t.length;i+=16)s(t,n,0,i,i+16),s(n=this._aes.decrypt(n),e,i);return e};var B=function(t,e){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else e=o(16);this._lastCipherblock=r(e,!0),this._aes=new k(t)};B.prototype.encrypt=function(t){if((t=r(t)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=o(t.length),n=o(16),i=0;i<t.length;i+=16){s(t,n,0,i,i+16);for(var a=0;a<16;a++)n[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(n),s(this._lastCipherblock,e,i)}return e},B.prototype.decrypt=function(t){if((t=r(t)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=o(t.length),n=o(16),i=0;i<t.length;i+=16){s(t,n,0,i,i+16),n=this._aes.decrypt(n);for(var a=0;a<16;a++)e[i+a]=n[a]^this._lastCipherblock[a];s(t,this._lastCipherblock,0,i,i+16)}return e};var O=function(t,e,n){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 size)")}else e=o(16);n||(n=1),this.segmentSize=n,this._shiftRegister=r(e,!0),this._aes=new k(t)};O.prototype.encrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var e,n=r(t,!0),i=0;i<n.length;i+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)n[i+o]^=e[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(n,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return n},O.prototype.decrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var e,n=r(t,!0),i=0;i<n.length;i+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)n[i+o]^=e[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(t,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return n};var I=function(t,e){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else e=o(16);this._lastPrecipher=r(e,!0),this._lastPrecipherIndex=16,this._aes=new k(t)};I.prototype.encrypt=function(t){for(var e=r(t,!0),n=0;n<e.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),e[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return e},I.prototype.decrypt=I.prototype.encrypt;var M=function(t){if(!(this instanceof M))throw Error("Counter must be instanitated with `new`");0===t||t||(t=1),"number"==typeof t?(this._counter=o(16),this.setValue(t)):this.setBytes(t)};M.prototype.setValue=function(t){if("number"!=typeof t||parseInt(t)!=t)throw new Error("invalid counter value (must be an integer)");if(t>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var e=15;e>=0;--e)this._counter[e]=t%256,t=parseInt(t/256)},M.prototype.setBytes=function(t){if(16!=(t=r(t,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=t},M.prototype.increment=function(){for(var t=15;t>=0;t--){if(255!==this._counter[t]){this._counter[t]++;break}this._counter[t]=0}};var P=function(t,e){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",e instanceof M||(e=new M(e)),this._counter=e,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new k(t)};P.prototype.encrypt=function(t){for(var e=r(t,!0),n=0;n<e.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),e[n]^=this._remainingCounter[this._remainingCounterIndex++];return e},P.prototype.decrypt=P.prototype.encrypt;var N={AES:k,Counter:M,ModeOfOperation:{ecb:_,cbc:B,cfb:O,ofb:I,ctr:P},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:function(t){var e=16-(t=r(t,!0)).length%16,n=o(t.length+e);s(t,n);for(var i=t.length;i<n.length;i++)n[i]=e;return n},strip:function(t){if((t=r(t,!0)).length<16)throw new Error("PKCS#7 invalid length");var e=t[t.length-1];if(e>16)throw new Error("PKCS#7 padding byte out of range");for(var n=t.length-e,i=0;i<e;i++)if(t[n+i]!==e)throw new Error("PKCS#7 invalid padding byte");var a=o(n);return s(t,a,0,0,n),a}}},_arrayTest:{coerceArray:r,createArray:o,copyArray:s}};t.exports=N}()},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AliasEditor=void 0;var o=function(t){function e(e){var n=t.call(this,"Alias")||this;return n.aliasManager=e,n.defaultPattern=null,n.defaultValue="Scrivi qui il valore dell'alias.\nPuo' essere 1 o piu' comandi, includendo i parametri (e.g. $1).\n\nPer gli alias non-regex, usa $1 nel valore per rappresentare l'argomento intero dato al commando.\nEsempio: Alias pattern 's', alias valore 'say $1', poi fai 's asadf dfdfa' e 'say asadf dfdfa' verra mandato.\n\nPer alias regex, usa $numero per rappresentare i match del tuo regex.\nEsempio: Alias pattern 's (\\w+)', alias valore 'say $1', poi fai 's asadf' e 'say asadf' verra' mandato.",n.defaultScript="/* Scrivi la tua script qui.\nQuesto e' il codice javascript che verra eseguito quando l'alias viene lanciato.\nNon puoi creare variabili globali.\nUsa 'var' per creare variabili locali.\nAggiungi valori a 'this' per interagire tra piu script.\nEsempio: this.mio_valore = 123;\nOgni script lanciata usa lo stesso 'this'.\n\nUsa la funzione send() per lanciare comandi al mud. Esempio: send('kill orc');\nUsa la funzione print() per per echo in locale. Esempio: print('Arrivato un avversario!!');\nPer alias regex, 'match' sara il l'array risultato di match della regex, con \ngli indici che sono i gruppi della regex.\n*/\n",n.$isPromptCheckbox.parent().hide(),n}return r(e,t),e.prototype.getList=function(){for(var t=this.aliasManager.aliases,e=[],n=0;n<t.length;n++)e.push((t[n].id||t[n].pattern)+(t[n].class?" <"+t[n].class+">":""));return e},e.prototype.getItem=function(t){var e=this.aliasManager.aliases;return t<0||t>=e.length?null:e[t]},e.prototype.saveItem=function(t,e){t<0?this.aliasManager.aliases.push(e):this.aliasManager.aliases[t]=e,this.aliasManager.saveAliases()},e.prototype.deleteItem=function(t){this.aliasManager.aliases.splice(t,1),this.aliasManager.saveAliases()},e}(n(23).TrigAlEditBase);e.AliasEditor=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AliasManager=void 0;var i=n(7),r=function(){function t(t,e,n,r){var o=this;this.jsScript=t,this.config=e,this.baseConfig=n,this.classManager=r,this.aliases=null,this.allAliases=null,this.loadAliases(),e.evtConfigImport.handle((function(){o.loadAliases(),o.saveAliases()}),this),i.EvtScriptEmitToggleAlias.handle(this.onToggle,this)}return t.prototype.onToggle=function(t){if(this.setEnabled(t.id,t.state),this.config.getDef("debugScripts",!1)){var e="Alias "+t.id+" e' ora "+(this.isEnabled(t.id)?"ABILITATO":"DISABILITATO");i.EvtScriptEmitPrint.fire({owner:"AliasManager",message:e})}},t.prototype.setEnabled=function(t,e){if(this.getById(t));else if(this.config.getDef("debugScripts",!1)){var n="Alias "+t+" non esiste!";i.EvtScriptEmitPrint.fire({owner:"AliasManager",message:n})}},t.prototype.getById=function(t){for(var e=0;e<this.aliases.length;e++){var n=this.aliases[e];if(n.id==t)return n}return null},t.prototype.isEnabled=function(t){var e=this.getById(t);return e&&e.enabled},t.prototype.saveAliases=function(){this.config.set("aliases",this.aliases),this.mergeAliases()},t.prototype.contains=function(t,e){for(var n=0;n<Math.min(e,this.allAliases.length);n++){if(this.allAliases[n].pattern==t)return!0}return!1},t.prototype.mergeAliases=function(){var t=$.merge([],this.config.get("aliases")||[]);t=$.merge(t,this.baseConfig.get("aliases")||[]),this.allAliases=t;for(var e=0;e<this.allAliases.length;e++){var n=this.allAliases[e];n&&e>0&&this.contains(n.pattern,e)&&(this.allAliases.splice(e,1),e--)}},t.prototype.loadAliases=function(){this.aliases=this.config.get("aliases")||[],this.mergeAliases()},t.prototype.checkAlias=function(t){if(!0!==this.config.getDef("aliasesEnabled",!0))return null;if(t.match(/\.[neswud0-9]+$/i))return this.createPath(t);for(var e=function(e){var i=n.allAliases[e];if(!i.enabled||i.class&&!n.classManager.isEnabled(i.class))return"continue";if(i.regex){var r,o="^"==i.pattern.charAt(0)?i.pattern:"^"+i.pattern;return(r=t.match(o))&&null!=r?i.is_script?(i.script||(i.script=n.jsScript.makeScript(i.id||i.pattern,i.value,"match, input")),i.script&&i.script(r,t),{value:!0}):{value:i.value.replace(/\$(\d+)/g,(function(t,e){return r[parseInt(e)]||""}))}:"continue"}o="^"+i.pattern+"(?:\\s+(.*))?$";var s=t.match(o);return s?i.is_script?(i.script||(i.script=n.jsScript.makeScript(i.id||i.pattern,i.value,"input")),i.script&&i.script(t),{value:!0}):{value:i.value.replace("$1",s[1]||"")}:"continue"},n=this,i=0;i<this.allAliases.length;i++){var r=e(i);if("object"==typeof r)return r.value}return null},t.prototype.createPath=function(t){if("."!=t[0])return"";for(var e="",n=[],i=1;i<t.length;i++){var r=t[i];if(r>="0"&&r<="9")e+=r;else{for(var o=0;o<(e?parseInt(e):1);o++)n.push(r);e=""}}return n.join("\n")},t}();e.AliasManager=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandInput=void 0;var i=n(0),r=function(){function t(t){var e=this;this.aliasManager=t,this.EvtEmitCmd=new i.EventHook,this.EvtEmitAliasCmds=new i.EventHook,this.cmd_history=[],this.cmd_index=-1,this.cmd_entered="",this.$cmdInput=$("#cmdInput"),this.chkCmdStack=$("#chkCmdStack")[0],this.$cmdInput.keydown((function(t){return e.keydown(t)})),this.$cmdInput.bind("input propertychange",(function(){return e.inputChange()})),$(document).ready((function(){e.loadHistory(),e.inputChange()}))}return t.prototype.setInput=function(t){this.$cmdInput.val(t),this.$cmdInput.focus()},t.prototype.execCommand=function(t){var e=[t],n=[t];this.chkCmdStack.checked&&(n=t.split(";"),e=t.split(";"));for(var i=0;i<e.length;i++)if(e[i]&&"~"==e[i].charAt(0))this.EvtEmitCmd.fire(e[i].slice(1));else{var r=this.aliasManager.checkAlias(e[i]);if(!0!==r&&null!=r){for(var o=[],s=r.replace("\r","").split("\n"),a=0;a<s.length;a++)o=o.concat(s[a].split(";"));this.EvtEmitAliasCmds.fire({orig:n[i],commands:o})}else r||this.EvtEmitCmd.fire(e[i])}},t.prototype.sendCmd=function(){var t=this.$cmdInput.val();this.execCommand(t),this.$cmdInput.select(),""!==t.trim()&&(this.cmd_history.length>0&&t===this.cmd_history[this.cmd_history.length-1]||t.length>1&&(this.cmd_history.push(t),this.cmd_history=this.cmd_history.slice(-20),this.saveHistory(),this.cmd_index=-1))},t.prototype.keydown=function(t){switch(t.which){case 13:return!!t.shiftKey||(this.sendCmd(),!1);case 38:if(-1===this.cmd_index){this.cmd_entered=this.$cmdInput.val();for(var e=-1,n=this.cmd_history.length-1;n>=0;n--){if(0==this.cmd_history[n].toUpperCase().indexOf(this.cmd_entered.toUpperCase())){e=n;break}}this.cmd_index=e>-1?e:this.cmd_history.length-1}else this.cmd_index-=1,this.cmd_index=Math.max(this.cmd_index,0);return this.$cmdInput.val(this.cmd_history[this.cmd_index]),this.inputChange(),this.$cmdInput.select(),!1;case 40:if(-1===this.cmd_index)break;return this.cmd_index===this.cmd_history.length-1?(this.cmd_index=-1,this.$cmdInput.val(this.cmd_entered)):(this.cmd_index+=1,this.$cmdInput.val(this.cmd_history[this.cmd_index])),this.$cmdInput.val(this.cmd_history[this.cmd_index]),this.inputChange(),this.$cmdInput.select(),!1;case 97:return this.$cmdInput.val("southwest"),this.sendCmd(),!1;case 98:return this.$cmdInput.val("south"),this.sendCmd(),!1;case 99:return this.$cmdInput.val("southeast"),this.sendCmd(),!1;case 100:return this.$cmdInput.val("west"),this.sendCmd(),!1;case 101:return this.$cmdInput.val("look"),this.sendCmd(),!1;case 102:return this.$cmdInput.val("east"),this.sendCmd(),!1;case 103:return this.$cmdInput.val("northwest"),this.sendCmd(),!1;case 104:return this.$cmdInput.val("north"),this.sendCmd(),!1;case 105:return this.$cmdInput.val("northeast"),this.sendCmd(),!1;case 107:return this.$cmdInput.val("down"),this.sendCmd(),!1;case 109:return this.$cmdInput.val("up"),this.sendCmd(),!1;default:return this.cmd_index=-1,!0}return!1},t.prototype.inputChange=function(){var t=this.$cmdInput;t.height("1px");var e=Math.max(t[0].scrollHeight,20);t.height(e+"px")},t.prototype.saveHistory=function(){localStorage.setItem("cmd_history",JSON.stringify(this.cmd_history))},t.prototype.loadHistory=function(){var t=localStorage.getItem("cmd_history");t&&(this.cmd_history=JSON.parse(t))},t}();e.CommandInput=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsScriptWin=void 0;var i=function(){function t(t){this.jsScript=t,this.codeMirror=null;var e=document.createElement("div");e.style.display="none",e.className="winJsScript",document.body.appendChild(e),e.innerHTML='\n        \x3c!--header--\x3e\n        <div>Javascript Script</div>\n        \x3c!--content--\x3e\n        <div>\n            <div class="right-pane">\n                <div class="pane-header">\n                    <span>Il codice della script da eseguire:</span>\n                </div>                    \n                <div class="pane-content">\n                    <textarea class="winJsScript-code"></textarea>\n                </div>\n                <div class="pane-footer">\n                    <button class="winJsScript-btnRun bluebutton">ESEGUI SCRIPT</button>\n                </div>\n            </div>\n        </div>\n        ',this.$win=$(e),this.$runButton=$(e.getElementsByClassName("winJsScript-btnRun")[0]);var n=$(window).innerWidth()-20,i=$(window).innerHeight()-20;this.$win.jqxWindow({width:Math.min(550,n),height:Math.min(400,i),showCollapseButton:!0}),this.codeMirror=CodeMirror.fromTextArea(e.getElementsByClassName("winJsScript-code")[0],{mode:"javascript",theme:"neat",autoRefresh:!0,matchBrackets:!0,lineNumbers:!0}),this.$runButton.click(this.handleRunButtonClick.bind(this))}return t.prototype.handleRunButtonClick=function(){var t=this.codeMirror.getValue(),e=this.jsScript.makeScript("Script",t,"");e&&e()},t.prototype.show=function(){this.$win.jqxWindow("open"),this.$win.jqxWindow("bringToFront")},t}();e.JsScriptWin=i},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.MenuBar=void 0;var r=n(0),o=n(4),s=function(){function t(t,e,n,i,o,s,a){var c=this;this.aliasEditor=t,this.triggerEditor=e,this.jsScriptWin=n,this.aboutWin=i,this.profileWin=o,this.config=s,this.windowManager=a,this.EvtChangeDefaultColor=new r.EventHook,this.EvtChangeDefaultBgColor=new r.EventHook,this.EvtContactClicked=new r.EventHook,this.EvtConnectClicked=new r.EventHook,this.EvtDisconnectClicked=new r.EventHook,this.clickFuncs={},this.optionMappingToStorage=new Map([["connect",""],["use-profile",""],["aliases",""],["triggers",""],["script",""],["config",""],["text-color",""],["white-on-black","text-color"],["green-on-black","text-color"],["black-on-gray","text-color"],["black-on-white","text-color"],["wrap-lines","wrap-lines"],["enable-color","colorsEnabled"],["enable-utf8","utf8Enabled"],["enable-mxp","mxpEnabled"],["enable-aliases","aliasesEnabled"],["enable-triggers","triggersEnabled"],["smallest-font","font-size"],["extra-small-font","font-size"],["small-font","font-size"],["normal-font","font-size"],["large-font","font-size"],["extra-large-font","font-size"],["courier","font"],["consolas","font"],["monospace","font"],["lucida","font"],["vera","font"],["reset-settings",""],["import-settings",""],["export-settings",""],["log-time","logTime"],["debug-scripts","debugScripts"],["about",""],["docs",""],["contact",""],["profiles",""]]),this.onImport=function(){c.detachMenu(),c.attachMenu()},$("#menuBar").jqxMenu(),this.makeClickFuncs(),setTimeout((function(){c.attachMenu(),c.handleNewConfig()}),0),a.EvtEmitWindowsChanged.handle((function(t){return c.windowsChanged(t)}))}return t.prototype.attachMenuOption=function(t,e,n){var i=this,r=t in this.clickFuncs,o=this.optionMappingToStorage.get(t);if(n&&o){var s=function(o){o?($(n).attr("checked",o),$(n).prop("checked",o),$(e)[0].setAttribute("data-checked",o),r&&i.clickFuncs[t](o)):null!=o&&($(n).removeAttr("checked"),$(n).prop("checked",o),$(e)[0].setAttribute("data-checked","false"),r&&i.clickFuncs[t](o)),null!=o&&console.log(t+" set to "+o)};s(this.config.get(o)),this.config.onSet(o,s),$(n).change((function(e){i.config.set(o,e.target.checked),r&&i.clickFuncs[t](e.target.checked)}))}else o&&r&&this.clickFuncs[t](this.config.get(o));if(r){console.log("Attaching menu item "+t);$(e);$(e).click((function(r){r.target&&"LI"==r.target.tagName&&(!n&&o?(i.config.set(o,t),i.clickFuncs[t](t)):i.clickFuncs[t]($(e)[0].getAttribute("data-checked")))}))}},t.prototype.detachMenuOption=function(t,e,n){e&&$(e).off("click");var i=this.optionMappingToStorage.get(t);i&&this.config.onSet(i,null),n&&$(n).off("change")},t.prototype.attachMenu=function(){var t=this;$("[data-option-name]").each((function(e,n){var i=$(n)[0].getAttribute("data-option-name"),r=$(n).find("input[type='checkbox']")[0];t.attachMenuOption(i,n,r)}))},t.prototype.detachMenu=function(){var t=this;$("[data-option-name]").each((function(e,n){var i=$(n)[0].getAttribute("data-option-name"),r=$(n).find("input[type='checkbox']")[0];t.detachMenuOption(i,n,r)}))},t.prototype.windowsChanged=function(t){var e,n;if($("#windowList").empty(),0!=t.length){var r=function(t){var e=$("<li class='jqx-item jqx-menu-item jqx-rc-all' role='menuitem'>"+t+"</li>"),n=o;e.on("click",(function(){n.windowManager.show(t)})),$("#windowList").append(e)},o=this;try{for(var s=i(t),a=s.next();!a.done;a=s.next()){r(a.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}else $("#windowList").append("<li>&lt;nessuna&gt;</li>")},t.prototype.setConfig=function(t){this.config&&(this.detachMenu(),this.config.evtConfigImport.release(this.onImport)),this.config=t,this.handleNewConfig(),this.attachMenu()},t.prototype.handleNewConfig=function(){this.config.evtConfigImport.handle(this.onImport)},t.prototype.isTrue=function(t){return"boolean"==typeof t?t:"string"==typeof t&&"true"==t},t.prototype.makeClickFuncs=function(){var t=this;this.clickFuncs.connect=function(e){t.isTrue(e)?t.EvtDisconnectClicked.fire():t.EvtConnectClicked.fire()},this.clickFuncs["reset-settings"]=function(e){t.config.remove(new RegExp("^(?!alias)(?!trigger)"),(function(){o.Mudslinger.setDefaults(t.config)})),location.reload()},this.clickFuncs["export-settings"]=function(){t.config.exportToFile()},this.clickFuncs["import-settings"]=function(){t.config.importFromFile()},this.clickFuncs["wrap-lines"]=function(e){t.isTrue(e)?$(".outputText").removeClass("output-prewrap"):$(".outputText").addClass("output-prewrap")};var e=function(){$(".outputText").removeClass("smalles-text"),$(".outputText").removeClass("extra-small-text"),$(".outputText").removeClass("small-text"),$(".outputText").removeClass("normal-text"),$(".outputText").removeClass("large-text"),$(".outputText").removeClass("extra-large-text")},n=function(){$(".outputText").removeClass("courier"),$(".outputText").removeClass("consolas"),$(".outputText").removeClass("monospace"),$(".outputText").removeClass("lucida"),$(".outputText").removeClass("vera")};this.clickFuncs["enable-color"]=function(e){t.isTrue(e)&&(t.EvtChangeDefaultColor.fire(["white","low"]),t.EvtChangeDefaultBgColor.fire(["black","low"]))},this.clickFuncs["use-profile"]=function(e){t.profileWin.show()},this.clickFuncs.courier=function(t){"courier"==t&&(n(),$(".outputText").addClass("courier"))},this.clickFuncs.consolas=function(t){"consolas"==t&&(n(),$(".outputText").addClass("consolas"))},this.clickFuncs.lucida=function(t){"lucida"==t&&(n(),$(".outputText").addClass("lucida"))},this.clickFuncs.monospace=function(t){"monospace"==t&&(n(),$(".outputText").addClass("monospace"))},this.clickFuncs.vera=function(t){"vera"==t&&(n(),$(".outputText").addClass("vera"))},this.clickFuncs["extra-small-font"]=function(t){"extra-small-font"==t&&(e(),$(".outputText").addClass("extra-small-text"))},this.clickFuncs["smallest-font"]=function(t){"smallest-font"==t&&(e(),$(".outputText").addClass("smallest-text"))},this.clickFuncs["small-font"]=function(t){"small-font"==t&&(e(),$(".outputText").addClass("small-text"))},this.clickFuncs["normal-font"]=function(t){"normal-font"==t&&(e(),$(".outputText").addClass("normal-text"))},this.clickFuncs["large-font"]=function(t){"large-font"==t&&(e(),$(".outputText").addClass("large-text"))},this.clickFuncs["extra-large-font"]=function(t){"extra-large-font"==t&&(e(),$(".outputText").addClass("extra-large-text"))},this.clickFuncs.aliases=function(e){t.aliasEditor.show()},this.clickFuncs.triggers=function(e){t.triggerEditor.show()},this.clickFuncs.colorsEnabled=function(e){t.isTrue(e)&&t.config.set("text-color",void 0)},this.clickFuncs["green-on-black"]=function(e){"green-on-black"==e&&(t.EvtChangeDefaultColor.fire(["green","low"]),t.EvtChangeDefaultBgColor.fire(["black","low"]))},this.clickFuncs["white-on-black"]=function(e){"white-on-black"==e&&(t.EvtChangeDefaultColor.fire(["white","low"]),t.EvtChangeDefaultBgColor.fire(["black","low"]))},this.clickFuncs["black-on-gray"]=function(e){"black-on-gray"==e&&(t.EvtChangeDefaultColor.fire(["black","low"]),t.EvtChangeDefaultBgColor.fire(["white","low"]))},this.clickFuncs["black-on-white"]=function(e){"black-on-white"==e&&(t.EvtChangeDefaultColor.fire(["black","low"]),t.EvtChangeDefaultBgColor.fire(["white","high"]))},this.clickFuncs.script=function(e){t.jsScriptWin.show()},this.clickFuncs.about=function(e){t.aboutWin.show()},this.clickFuncs.contact=function(e){t.EvtContactClicked.fire(null)}},t.prototype.handleTelnetConnect=function(){$("#menuBar-conn-disconn").text("Disconnetti"),$("#menuBar-conn-disconn")[0].setAttribute("data-checked","true")},t.prototype.handleTelnetDisconnect=function(){$("#menuBar-conn-disconn").text("Connetti"),$("#menuBar-conn-disconn")[0].setAttribute("data-checked","false")},t}();e.MenuBar=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassManager=void 0;var i=n(0),r=n(7),o=function(){function t(t){this.config=t,this.EvtEmitTriggerCmds=new i.EventHook,this.classes=new Map,r.EvtScriptEmitToggleClass.handle(this.onToggle,this)}return t.prototype.onToggle=function(t){this.Toggle(t.id,t.state);var e="La classe "+t.id+" e' ora "+(this.isEnabled(t.id)?"ABILITATA":"DISABILITATA");this.config.getDef("debugScripts",!1)&&r.EvtScriptEmitPrint.fire({owner:"ClassManager",message:e})},t.prototype.Create=function(t,e){this.classes.set(t,{name:t,enabled:e})},t.prototype.Toggle=function(t,e){if(this.classes.has(t)){var n=this.classes.get(t);null==e&&(e=!n.enabled),n.enabled=e}else this.Create(t,null==e||e)},t.prototype.isEnabled=function(t){return!this.classes.has(t)||this.classes.get(t).enabled},t}();e.ClassManager=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Mxp=void 0;var r=n(0),o=i(n(58)),s=function(){function t(t,e,n){this.outputManager=t,this.commandInput=e,this.script=n,this.EvtEmitCmd=new r.EventHook,this.openTags=[],this.elements=[],this.tagHandlers=[],this.elementRegex=/<!ELEMENT (?<name>(\w|_)+) +(('|")+(?<definition>([^"'])*)?('|")+)? ?(ATT='?(?<att>[^" ']*)'? ?)?(TAG='?(?<tag>[^" ']*)'? ?)?(FLAG=('|")?(?<flag>[^"']*)('|")? ?)?(?<open>OPEN)? ?(?<empty>EMPTY)? ?(?<delete>DELETE)? ?[^>]*>/gi,this.entityRegex=/<!ENTITY +(?<name>(\w|_)+) +(('|")+(?<definition>([^>])*)?('|")+)? ?(?<private>PRIVATE)? ?(?<delete>DELETE)? ?(?<remove>REMOVE)? ?(?<add>ADD)?>/gi,this.makeTagHandlers()}return t.prototype.addElement=function(t){return t=this.parseElement(t),this.elements.push(t),t},t.prototype.parseElement=function(t){if(t.definition&&t.definition.indexOf("<")>-1){var e=t.definition.match(/<([^>]+)>/g);if(e&&e.length){t.closing="";for(var n=e.length-1;n>=0;n--){var i="</"+e[n].slice(1);t.closing+=i}}}return t.regex=new RegExp("<"+t.name+"\\b[^>]*>([\\s\\S]*?)</"+t.name+">","i"),t},t.prototype.makeTagHandlers=function(){var t=this;this.elements=[],this.tagHandlers.push((function(e){if(e.match(/!element/i)){var n=t.elementRegex;n.lastIndex=0;var i=n.exec(e);if(i){for(t.addElement(i.groups);i=n.exec(e);)t.addElement(i.groups);return!0}}return!1})),this.tagHandlers.push((function(e){if(e.match(/<!entity/i)){var n=t.entityRegex;n.lastIndex=0;var i=n.exec(e);if(i){var r=i.groups.definition||"";return t.script.getScriptThis()[i.groups.name]||(t.script.getScriptThis()[i.groups.name]=""),i.groups.delete?delete t.script.getScriptThis()[i.groups.name]:i.groups.add?(t.script.getScriptThis()[i.groups.name].length&&(t.script.getScriptThis()[i.groups.name]+="|"),t.script.getScriptThis()[i.groups.name]+=unescape(r.replace(/\\"/g,'"'))):i.groups.remove?delete t.script.getScriptThis()[i.groups.name]:t.script.getScriptThis()[i.groups.name]=unescape(r.replace(/\\"/g,'"')),!0}}return!1})),this.tagHandlers.push((function(e){return!!/^<version>$/i.exec(e)&&(t.EvtEmitCmd.fire({value:"[1z<VERSION CLIENT=Mudslinger MXP=0.01>",noPrint:!0}),!0)})),this.tagHandlers.push((function(e){var n=/^<image ?(FName=["|']?([^ '"]+)["|']?)? ?url="([^">]*)">/i.exec(e);if(n){var i=$('<img style="max-width:90%;max-height:70%;" src="'+n[3]+n[2]+'">');return t.outputManager.pushMxpElem(i),t.outputManager.popMxpElem(),!0}return!1})),this.tagHandlers.push((function(e){var n=/^<a /i,i=n.exec(e);if(i){t.openTags.push("a");var r=$(e);return r.attr("target","_blank"),r.addClass("underline"),t.outputManager.pushMxpElem(r),!0}return!!(i=(n=/^<\/a>/i).exec(e))&&("a"!==t.openTags[t.openTags.length-1]?console.log("Got closing a tag with no opening tag."):(t.openTags.pop(),t.outputManager.popMxpElem()),!0)})),this.tagHandlers.push((function(e){var n=/^<([bius])>/i,i=n.exec(e);if(i){t.openTags.push(i[1]);var r=$(e);return t.outputManager.pushMxpElem(r),!0}return!!(i=(n=/^<\/([bius])>/i).exec(e))&&(t.openTags[t.openTags.length-1]!==i[1]?console.log("Got closing "+i[1]+" tag with no opening tag."):(t.openTags.pop(),t.outputManager.popMxpElem()),!0)})),this.tagHandlers.push((function(e){var n=/^<send/i,i=n.exec(e);if(i){var r=/^<send ?(?:href=)?(["'](.*)["'])?([^>]*)?>([^<]+)<\/send>/i.exec(e);if(r){t.openTags.push("send");var s=$("<a>"),a=o.default(r[2]?r[2]:r[4]);return s[0].setAttribute("title",a),s.addClass("underline"),s.addClass("clickable"),r[3]&&r[3].match(/prompt/i)?s.click((function(){t.commandInput.setInput(a)})):s.click((function(){t.EvtEmitCmd.fire({value:a,noPrint:!1})})),t.outputManager.pushMxpElem(s),t.outputManager.handleTelnetData(t.str2ab(r[4])),t.openTags.pop(),t.outputManager.popMxpElem(),!0}}if(i=(n=/^<\/send>/i).exec(e)){if("send"!==t.openTags[t.openTags.length-1])console.log("Got closing send tag with no opening tag.");else if(t.openTags.pop(),!(s=t.outputManager.popMxpElem())[0].hasAttribute("title")){var c=s.text();s[0].setAttribute("title",c),s.click((function(){t.EvtEmitCmd.fire({value:c,noPrint:!1})}))}return!0}return!1}))},t.prototype.str2ab=function(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),i=0,r=t.length;i<r;i++)n[i]=t.charCodeAt(i);return e},t.prototype.handleMxpTag=function(t){for(var e=!1,n=0;n<this.elements.length;n++){var i=void 0;if(this.elements[n].regex&&(i=t.match(this.elements[n].regex))&&(t="",this.elements[n].definition&&(t+=this.elements[n].definition),e=!0,t+=i[1],this.elements[n].closing&&(t+=this.elements[n].closing),this.elements[n].flag)){var r=this.elements[n].flag.replace(/^set /i,"");i[1]=o.default(i[1]),this.script.getScriptThis()[r]=i[1]}}if(e)this.outputManager.handleTelnetData(this.str2ab(t));else{for(var s=0;s<this.tagHandlers.length;s++)if(this.tagHandlers[s](t)){e=!0;break}if(!e){console.log("Unsupported MXP tag: "+t);var a=t.match(/^<([a-zA-Z0-9]*)\b[^>]*>([\s\S]*?)<\/\1>/);a&&a.length>=2&&(t=a[2],this.outputManager.handleTelnetData(this.str2ab(t)))}}},t.prototype.handleNewline=function(){if(!(this.openTags.length<1)){for(var t=this.openTags.length-1;t>=0;t--)"dest"===this.openTags[t]?this.outputManager.popTarget():this.outputManager.popMxpElem();this.openTags=[]}},t}();e.Mxp=s},function(t,e,n){"use strict";const i=n(59);t.exports=t=>"string"==typeof t?t.replace(i(),""):t},function(t,e,n){"use strict";t.exports=({onlyFirst:t=!1}={})=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputManager=void 0;var i=n(0),r=n(2),o=n(24),s=function(){function t(t,e,n){this.outputWin=t,this.config=e,this.windowManager=n,this.EvtMxpTag=new i.EventHook,this.EvtNewLine=new i.EventHook,this.ansiReverse=!1,this.ansiBold=!1,this.ansiUnderline=!1,this.ansiBlink=!1,this.targetWindows=[this.outputWin],this.target=this.outputWin,this.loadConfig(),this.reentrance=0,e.evtConfigImport&&e.evtConfigImport.handle(this.loadConfig,this)}return t.prototype.setSocket=function(t){this.socket=t},t.prototype.mxpActive=function(){return this.socket&&this.socket.mxpActive()},t.prototype.loadConfig=function(){var t=this.config.get("defaultAnsiFg");t?this.setDefaultAnsiFg(t[0],t[1]):this.setDefaultAnsiFg("green","low");var e=this.config.get("defaultAnsiBg");e?this.setDefaultAnsiBg(e[0],e[1]):this.setDefaultAnsiBg("black","low")},t.prototype.outputDone=function(){this.target.outputDone()},t.prototype.pushTarget=function(t){this.targetWindows.push(t),this.target=t},t.prototype.popTarget=function(){this.target.outputDone(),this.targetWindows.pop(),this.target=this.targetWindows[this.targetWindows.length-1]},t.prototype.sendToWindow=function(t,e,n,i){var r=this.windowManager.createWindow(t);i?r.output.writeLine(e,n):r.output.write(e,n)},t.prototype.pushMxpElem=function(t){this.target.pushElem(t)},t.prototype.popMxpElem=function(){return this.target.popElem()},t.prototype.handleText=function(t){this.target.addText(t)},t.prototype.setFgColorId=function(t){this.fgColorId=t,this.pushFgColorIdToTarget()},t.prototype.pushFgColorIdToTarget=function(){this.ansiReverse?this.target.setBgColorId(this.fgColorId||this.defaultFgId):this.target.setFgColorId(this.fgColorId)},t.prototype.setAnsiFg=function(t){this.ansiFg=t,t?this.setFgColorId(t[0]+"-"+t[1]):this.setFgColorId(null)},t.prototype.setBgColorId=function(t){this.bgColorId=t,this.pushBgColorIdToTarget()},t.prototype.pushBgColorIdToTarget=function(){this.ansiReverse?this.target.setFgColorId(this.bgColorId||this.defaultBgId):this.target.setBgColorId(this.bgColorId)},t.prototype.setAnsiBg=function(t){this.ansiBg=t,t?this.setBgColorId(t[0]+"-"+t[1]):this.setBgColorId(null)},t.prototype.handleXtermEscape=function(t,e){e?(this.ansiBg=null,this.setBgColorId(t.toString())):(this.ansiFg=null,this.setFgColorId(t.toString()))},t.prototype.handleAnsiGraphicCodes=function(t){if(3===t.length){if("38"===t[0]&&"5"===t[1])return void this.handleXtermEscape(parseInt(t[2]),!1);if("48"===t[0]&&"5"===t[1])return void this.handleXtermEscape(parseInt(t[2]),!0)}for(var e,n,i=0;i<t.length;i++){var r=parseInt(t[i]);if(0!==r)if(1!==r)if(7!==r)if(r>=30&&r<=37){var s=o.ansiFgLookup[r];(e=e||o.copyAnsiColorTuple(this.defaultAnsiFg))[0]=s,this.ansiBold&&(e[1]="high")}else if(r>=40&&r<=47){s=o.ansiBgLookup[r];(n=n||o.copyAnsiColorTuple(this.defaultAnsiBg))[0]=s}else 39!==r?22!==r?4!=r?5!=r?console.log("Unsupported ANSI code:",r):(this.ansiBlink=!0,this.target.setBlink(this.ansiBlink)):(this.ansiUnderline=!0,this.target.setUnderline(this.ansiUnderline)):(this.ansiBold=!1,e||(e=this.ansiFg?o.copyAnsiColorTuple(this.ansiFg):o.copyAnsiColorTuple(this.defaultAnsiFg)),e[1]="low"):e=null;else this.ansiReverse=!this.ansiReverse,this.pushFgColorIdToTarget(),this.pushBgColorIdToTarget();else this.ansiBold=!0,(e||this.ansiFg||!this.fgColorId)&&((e=e||this.ansiFg||o.copyAnsiColorTuple(this.defaultAnsiFg))[1]="high");else e=null,n=null,this.ansiReverse=!1,this.ansiBold=!1,this.ansiUnderline=!1,this.ansiBlink=!1,this.target.setBlink(this.ansiBlink),this.target.setUnderline(this.ansiUnderline)}void 0!==e&&this.setAnsiFg(e),void 0!==n&&this.setAnsiBg(n)},t.prototype.setDefaultAnsiFg=function(t,e){-1!==["low","high"].indexOf(e)?(this.defaultAnsiFg=[t,e],this.defaultFgId=t+"-"+e,$(".outputText").css("color",o.colorIdToHtml[this.defaultFgId])):console.log("Invalid level: "+e)},t.prototype.setDefaultAnsiBg=function(t,e){-1!==["low","high"].indexOf(e)?(this.defaultAnsiBg=[t,e],this.defaultBgId=t+"-"+e,$(".outputText").css("background-color",o.colorIdToHtml[this.defaultBgId])):console.log("Invalid level: "+e)},t.prototype.handleChangeDefaultColor=function(t,e){this.setDefaultAnsiFg(t,e),this.saveColorCfg()},t.prototype.handleChangeDefaultBgColor=function(t,e){this.setDefaultAnsiBg(t,e),this.saveColorCfg()},t.prototype.saveColorCfg=function(){this.config.set("defaultAnsiFg",this.defaultAnsiFg),this.config.set("defaultAnsiBg",this.defaultAnsiBg)},t.prototype.handleTelnetData=function(t){this.reentrance++;var e=this.partialSeq||"";if(this.partialSeq=null,!0===this.config.get("utf8Enabled")){var n=void 0;this.partialUtf8?((n=new Uint8Array(t.byteLength+this.partialUtf8.length)).set(this.partialUtf8,0),n.set(new Uint8Array(t),this.partialUtf8.length),this.partialUtf8=null):n=new Uint8Array(t);var i=r.utf8decode(n);this.partialUtf8=i.partial,e+=i.result}else e+=String.fromCharCode.apply(String,new Uint8Array(t));for(var o="",s=e.length,a=0;a<s;){var c=e[a];if("\r"!==c)if("\n"!==c)if(""===c||"<"==c&&this.mxpActive()||"&"==c&&this.mxpActive()){var l=e.slice(a),u=void 0,h=void 0;if(u=/^\&(\w+)\;/,h=null,this.mxpActive()&&(h=u.exec(l)),h){switch(h[1]){case"quot":o+='"';break;case"amp":o+="&";break;case"lt":o+="<";break;case"gt":o+=">"}this.handleText(o),o="",a+=h[0].length}else if(h=(u=/^\x1b\[m/).exec(l))this.handleText(o),o="",a+=h[0].length,this.handleAnsiGraphicCodes(["0"]);else if(h=(u=/^\x1b\[([0-9]+(?:;[0-9]+)*)m/).exec(l)){this.handleText(o),o="",a+=h[0].length;var f=h[1].split(";");this.handleAnsiGraphicCodes(f)}else if(h=(u=/^\x1b\[[1-7]z(<.*>)/).exec(l))a+=h[0].length,this.handleText(o),o="",this.EvtMxpTag.fire(h[1]);else if(h=(u=/^\x1b\[7z/).exec(l))a+=h[0].length;else if(u=/^<([a-zA-Z0-9]*)\b[^>]*>([\s\S]*?)<\/\1>/,h=null,this.mxpActive()&&(h=u.exec(l)),h)a+=h[0].length,this.handleText(o),o="",this.EvtMxpTag.fire(h[0]);else if(u=/^<!\w+ [^>]+>/,h=null,this.mxpActive()&&(h=u.exec(l)),h)a+=h[0].length,this.handleText(o),o="",this.EvtMxpTag.fire(h[0]);else if(h=(u=/^\x1b\[[0-9]*[ABCDEFGHJKSTfn]/).exec(l))console.log("Unsupported CSI sequence:",h[0]),a+=h[0].length;else if(u=/^<\w+ [^>]+>/,h=null,this.mxpActive()&&(h=u.exec(l)),h)a+=h[0].length,this.handleText(o),o="",this.EvtMxpTag.fire(h[0]);else{var p=l.slice(1).indexOf(""),d=l.indexOf("\n"),g=null;if(-1!==p&&(g=p),-1!==d&&(g=null===g?d-1:Math.min(g,d-1)),null===g){0!==a&&this.handleText(o),this.partialSeq=e.slice(a),console.log("Got partial:"),console.log(this.partialSeq);break}var m=l.slice(0,g+1);a+=m.length,console.log("Malformed sequence or tag"),console.log(m)}}else o+=c,a++;else o+=c,a++,this.handleText(o),o="",this.EvtNewLine.fire();else a++}this.partialSeq||this.handleText(o),o.length&&-1==o.indexOf("\n")&&this.reentrance<=1&&this.outputDone(),this.reentrance--},t}();e.OutputManager=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.OutputWin=void 0;var c=n(25),l=a(n(2)),u=function(t){function e(e,n){var i=t.call(this,$("#winOutput"),e)||this;return i.triggerManager=n,i.connIntervalId=null,$(document).ready((function(){window.onerror=i.handleWindowError.bind(i)})),n.EvtEmitTriggerOutputChanged.handle((function(t){i.outputChanged([t.line,t.buffer])})),i}return r(e,t),e.prototype.handleScriptPrint=function(t,e){this.append('<span style="color:orange">'+l.rawToHtml(e)+"<br></span>",!0),this.scrollBottom(!0)},e.prototype.handleSendCommand=function(t){this.append('<span style="color:yellow">'+l.rawToHtml(t)+"<br></span>",!0),this.scrollBottom(!0)},e.prototype.handleScriptSendCommand=function(t,e){this.debugScripts&&(this.append('<span style="color:cyan">['+t+"]<br></span>",!0),this.scrollBottom(!0))},e.prototype.handleTriggerSendCommands=function(t,e){if(this.debugScripts){var n='<span style="color:magenta">['+t+"]<br></span>";this.append(n,!0),this.scrollBottom(!1)}},e.prototype.handleAliasSendCommands=function(t,e){if(this.debugScripts){var n='<span style="color:cyan">['+t+"]<br></span>";this.append(n,!0),this.scrollBottom(!0)}},e.prototype.handleTelnetTryConnect=function(t,e){this.connIntervalId&&(clearInterval(this.connIntervalId),this.connIntervalId=null);var n=document.createElement("span");n.innerHTML=t&&e?"<br/><span style='color:cyan'>[[Connesione telnet a "+t+":"+e.toString()+"<span class='conn-dots'></span>]]<br>":"<br/><span style='color:cyan'>[[Connessione telnet <span class='conn-dots'></span>]]<br>";var i=n.getElementsByClassName("conn-dots")[0];this.connIntervalId=setInterval((function(){return i.textContent+="."}),1e3),this.append(n,!0),this.scrollBottom(!0)},e.prototype.handleTelnetConnect=function(){this.connIntervalId&&(clearInterval(this.connIntervalId),this.connIntervalId=null),this.append('<br/><span style="color:cyan">[[Telnet connesso]]<br></span>',!0),this.scrollBottom(!0)},e.prototype.handleTelnetDisconnect=function(){this.connIntervalId&&(clearInterval(this.connIntervalId),this.connIntervalId=null),this.append('<br/><span style="color:cyan">[[Telnet disconnesso]]<br></span>',!0),this.scrollBottom(!0)},e.prototype.handleWsConnect=function(){this.append('<br/><span style="color:cyan">[[Websocket connesso]]<br></span>',!0),this.scrollBottom(!1)},e.prototype.handleWsDisconnect=function(){this.connIntervalId&&(clearInterval(this.connIntervalId),this.connIntervalId=null),this.append('<br/><span style="color:cyan">[[Websocket disconnesso]]<br></span>',!0),this.scrollBottom(!1)},e.prototype.handleTelnetError=function(t){this.append('<br/><span style="color:red">[[Telnet errore:<br>'+t+"<br>]]<br></span>",!0),this.scrollBottom(!0)},e.prototype.handleWsError=function(){this.append('<br/><span style="color:red">[[Websocket errore]]<br></span>',!0),this.scrollBottom(!0)},e.prototype.handleWindowError=function(t,e,n,i,r){this.append('<br/><span style="color:red">[[Web Client Errore:<br>'+t+"<br>"+e+"<br>"+n+"<br>"+i+"<br>]]<br></span>",!0),this.scrollBottom(!0)},e.prototype.handleScriptEvalError=function(t){l.rawToHtml(t.toString());var e=l.rawToHtml(t.stack);this.append('<br/><span style="color:red">[[Errore compilazione script:<br>'+t.toString()+"<br><br>"+e+"<br>]]<br></span>",!0),this.scrollBottom(!0)},e.prototype.handleScriptError=function(t){this.append('<br/><span style="color:red">[[Errore Script ('+t.owner+"):<br>"+t.err.toString()+"<br>]]<br></span>",!0),this.scrollBottom(!0)},e}(c.OutWinBase);e.OutputWin=u},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;var c=n(0),l=o(n(63)),u=n(92),h=n(93),f=n(2),p=o(n(21)),d=function(){function t(t,e,n){this.outputManager=t,this.mxp=e,this.config=n,this.EvtServerEcho=new c.EventHook,this.EvtTelnetTryConnect=new c.EventHook,this.EvtTelnetConnect=new c.EventHook,this.EvtTelnetDisconnect=new c.EventHook,this.EvtTelnetError=new c.EventHook,this.EvtWsError=new c.EventHook,this.EvtWsConnect=new c.EventHook,this.EvtWsDisconnect=new c.EventHook,this.EvtSetClientIp=new c.EventHook,this.outputManager.setSocket(this)}return t.prototype.mxpActive=function(){return this.telnetClient&&this.telnetClient.mxp},t.prototype.open=function(){return s(this,void 0,void 0,(function(){var t,e,n,i,r,o,s,c=this;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,p.apiGetClientConfig()];case 1:return t=a.sent(),[3,3];case 2:return e=a.sent(),this.EvtWsError.fire(e),[2,!1];case 3:i=location.protocol,r=t.data.socket_io_host,o=location.port;try{(n=new URL(t.data.socket_io_host)).protocol&&(i=n.protocol),n.hostname&&(r=n.hostname),n.port&&(o=n.port)}catch(e){r=t.data.socket_io_host,o=t.data.socket_io_port}return s=i+"//"+r+":"+o+"/telnet",console.log("Connecting to telnet proxy server at",s),this.ioConn=l.connect(s),this.ioConn.on("connect",(function(){c.EvtWsConnect.fire({sid:c.ioConn.id})})),this.ioConn.on("disconnect",(function(){c.EvtWsDisconnect.fire(null)})),this.ioConn.on("error",(function(t){c.EvtWsError.fire(t)})),this.ioConn.on("connect_error",(function(t){c.EvtWsError.fire(t)})),this.ioEvt=new u.IoEvent(this.ioConn),this.ioEvt.srvTelnetOpened.handle((function(t){c.telnetClient=new h.TelnetClient((function(t){c.ioEvt.clReqTelnetWrite.fire(t)}),c.config),c.telnetClient.clientIp=c.clientIp,c.telnetClient.EvtData.handle((function(t){c.outputManager.handleTelnetData(t)})),c.telnetClient.EvtServerEcho.handle((function(t){c.EvtServerEcho.fire(t)})),c.EvtTelnetConnect.fire(t)})),this.ioEvt.srvTelnetClosed.handle((function(){c.telnetClient=null,c.EvtTelnetDisconnect.fire(null)})),this.ioEvt.srvTelnetError.handle((function(t){c.EvtTelnetError.fire(t)})),this.ioEvt.srvTelnetData.handle((function(t){c.telnetClient&&c.telnetClient.handleData(t)})),this.ioEvt.srvSetClientIp.handle((function(t){var e=/::ffff:(\d+\.\d+\.\d+\.\d+)/.exec(t);e&&(t=e[1]),c.clientIp=t,c.telnetClient&&(c.telnetClient.clientIp=t),c.EvtSetClientIp.fire(c.clientIp)})),[2,!0]}}))}))},t.prototype.openTelnet=function(t,e){this.EvtTelnetTryConnect.fire([t,e]),this.ioEvt.clReqTelnetOpen.fire([t,e])},t.prototype.closeTelnet=function(){this.ioEvt.clReqTelnetClose.fire(null)},t.prototype.sendCmd=function(t){var e;if(t+="\r\n",!0===this.config.get("utf8Enabled"))e=f.utf8encode(t);else{e=new Uint8Array(t.length);for(var n=0;n<t.length;n++)e[n]=t.charCodeAt(n)}this.ioEvt.clReqTelnetWrite.fire(e.buffer)},t}();e.Socket=d},function(t,e,n){var i=n(64),r=n(13),o=n(28),s=n(8)("socket.io-client");t.exports=e=c;var a=e.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r=i(t),c=r.source,l=r.id,u=r.path,h=a[l]&&u in a[l].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?(s("ignoring socket cache for %s",c),n=o(c,e)):(a[l]||(s("new io instance for %s",c),a[l]=o(c,e)),n=a[l]),r.query&&!e.query&&(e.query=r.query),n.socket(r.path,e)}e.protocol=r.protocol,e.connect=c,e.Manager=n(28),e.Socket=n(34)},function(t,e,n){var i=n(26),r=n(8)("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(r("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),r("parse %s",t),n=i(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}},function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return i.colors[Math.abs(e)%i.colors.length]}function i(t){let n;function s(...t){if(!s.enabled)return;const e=s,r=Number(new Date),o=r-(n||r);e.diff=o,e.prev=n,e.curr=r,n=r,t[0]=i.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return n;a++;const o=i.formatters[r];if("function"==typeof o){const i=t[a];n=o.call(e,i),t.splice(a,1),a--}return n}),i.formatArgs.call(e,t);(e.log||i.log).apply(e,t)}return s.namespace=t,s.enabled=i.enabled(t),s.useColors=i.useColors(),s.color=e(t),s.destroy=r,s.extend=o,"function"==typeof i.init&&i.init(s),i.instances.push(s),s}function r(){const t=i.instances.indexOf(this);return-1!==t&&(i.instances.splice(t,1),!0)}function o(t,e){const n=i(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return i.debug=i,i.default=i,i.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},i.disable=function(){const t=[...i.names.map(s),...i.skips.map(s).map(t=>"-"+t)].join(",");return i.enable(""),t},i.enable=function(t){let e;i.save(t),i.names=[],i.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length;for(e=0;e<r;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?i.skips.push(new RegExp("^"+t.substr(1)+"$")):i.names.push(new RegExp("^"+t+"$")));for(e=0;e<i.instances.length;e++){const t=i.instances[e];t.enabled=i.enabled(t.namespace)}},i.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=i.skips.length;e<n;e++)if(i.skips[e].test(t))return!1;for(e=0,n=i.names.length;e<n;e++)if(i.names[e].test(t))return!0;return!1},i.humanize=n(66),Object.keys(t).forEach(e=>{i[e]=t[e]}),i.instances=[],i.names=[],i.skips=[],i.formatters={},i.selectColor=e,i.enable(i.load()),i}},function(t,e){var n=1e3,i=6e4,r=60*i,o=24*r;function s(t,e,n,i){var r=e>=1.5*n;return Math.round(t/n)+" "+i+(r?"s":"")}t.exports=function(t,e){e=e||{};var a=typeof t;if("string"===a&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===a&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return s(t,e,o,"day");if(e>=r)return s(t,e,r,"hour");if(e>=i)return s(t,e,i,"minute");if(e>=n)return s(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=r)return Math.round(t/r)+"h";if(e>=i)return Math.round(t/i)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){(function(i){function r(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG),t}(e=t.exports=n(68)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))})),t.splice(o,0,i)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=r,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(r())}).call(this,n(9))},function(t,e,n){function i(t){var n;function i(){if(i.enabled){var t=i,r=+new Date,o=r-(n||r);t.diff=o,t.prev=n,t.curr=r,n=r;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;c++;var r=e.formatters[i];if("function"==typeof r){var o=s[c];n=r.call(t,o),s.splice(c,1),c--}return n})),e.formatArgs.call(t,s);var l=i.log||e.log||console.log.bind(console);l.apply(t,s)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}(t),i.destroy=r,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function r(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var i=("string"==typeof t?t:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(t=i[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(69),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,i=6e4,r=60*i,o=24*r;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var a,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(a=t,o,"day")||s(a,r,"hour")||s(a,i,"minute")||s(a,n,"second")||a+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=r)return Math.round(t/r)+"h";if(t>=i)return Math.round(t/i)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var i=n(15),r=n(27),o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);e.deconstructPacket=function(t){var e=[],n=t.data,o=t;return o.data=function t(e,n){if(!e)return e;if(r(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(i(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a],n);return s}if("object"==typeof e&&!(e instanceof Date)){s={};for(var c in e)s[c]=t(e[c],n);return s}return e}(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(i(e))for(var r=0;r<e.length;r++)e[r]=t(e[r],n);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,o=t;!function t(c,l,u){if(!c)return c;if(s&&c instanceof Blob||a&&c instanceof File){n++;var h=new FileReader;h.onload=function(){u?u[l]=this.result:o=this.result,--n||e(o)},h.readAsArrayBuffer(c)}else if(i(c))for(var f=0;f<c.length;f++)t(c[f],f,c);else if("object"==typeof c&&!r(c))for(var p in c)t(c[p],p,c)}(o),n||e(o)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=l(t),s=i[0],a=i[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),u=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[u++]=255&e);1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(u(t,s,s+16383>a?a:s+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var r,o,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?r-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+t[e+h],h+=f,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=l}return(p?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,c,l=8*o-r-1,u=(1<<l)-1,h=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*c-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+p]=255&a,p+=d,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+p]=255&s,p+=d,s/=256,l-=8);t[n+p-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(76),t.exports.parser=n(3)},function(t,e,n){var i=n(29),r=n(20),o=n(12)("engine.io-client:socket"),s=n(33),a=n(3),c=n(26),l=n(10);function u(t,e){if(!(this instanceof u))return new u(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=c(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=c(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=!1!==e.withCredentials,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=u,u.priorWebsocketSuccess=!1,r(u.prototype),u.protocol=a.protocol,u.Socket=u,u.Transport=n(19),u.transports=n(29),u.parser=n(3),u.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=a.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new i[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},u.prototype.open=function(){var t;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},u.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},u.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,i=this;function r(){if(i.onlyBinaryUpgrades){var r=!this.supportsBinary&&i.transport.supportsBinary;n=n||r}n||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(o('probe transport "%s" pong',t),i.upgrading=!0,i.emit("upgrading",e),!e)return;u.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',i.transport.name),i.transport.pause((function(){n||"closed"!==i.readyState&&(o("changing transport and sending upgrade packet"),f(),i.setTransport(e),e.send([{type:"upgrade"}]),i.emit("upgrade",e),e=null,i.upgrading=!1,i.flush())}))}else{o('probe transport "%s" failed',t);var s=new Error("probe error");s.transport=e.name,i.emit("upgradeError",s)}})))}function s(){n||(n=!0,f(),e.close(),e=null)}function a(n){var r=new Error("probe error: "+n);r.transport=e.name,s(),o('probe transport "%s" failed because of error: %s',t,n),i.emit("upgradeError",r)}function c(){a("transport closed")}function l(){a("socket closed")}function h(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),s())}function f(){e.removeListener("open",r),e.removeListener("error",a),e.removeListener("close",c),i.removeListener("close",l),i.removeListener("upgrading",h)}u.priorWebsocketSuccess=!1,e.once("open",r),e.once("error",a),e.once("close",c),this.once("close",l),this.once("upgrading",h),e.open()},u.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},u.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},u.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},u.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},u.prototype.sendPacket=function(t,e,n,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?i():e()})):this.upgrading?i():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function i(){t.once("upgrade",n),t.once("upgradeError",n)}return this},u.prototype.onError=function(t){o("socket error %j",t),u.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},u.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},u.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;n<i;n++)~s(this.transports,t[n])&&e.push(t[n]);return e}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){var i=n(17),r=n(30),o=n(20),s=n(11),a=n(12)("engine.io-client:polling-xhr"),c=n(18);function l(){}function u(t){if(r.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function h(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(t.exports=u,t.exports.Request=h,s(u,r),u.prototype.supportsBinary=!0,u.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new h(t)},u.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,i=this.request({method:"POST",data:t,isBinary:n}),r=this;i.on("success",e),i.on("error",(function(t){r.onError("xhr post error",t)})),this.sendXhr=i},u.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},o(h.prototype),h.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new i(t),n=this;try{a("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.extraHeaders[r])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof e.status?e.status:0)}),0))},a("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout((function(){n.onError(t)}),0)}"undefined"!=typeof document&&(this.index=h.requestsCount++,h.requests[this.index]=this)},h.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},h.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},h.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},h.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete h.requests[this.index],this.xhr=null}},h.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t=("application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},h.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},h.prototype.abort=function(){this.cleanup()},h.requestsCount=0,h.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",f);else if("function"==typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",f,!1)}function f(){for(var t in h.requests)h.requests.hasOwnProperty(t)&&h.requests[t].abort()}},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},function(t,e){t.exports=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(e<0&&(e+=i),n<0&&(n+=i),n>i&&(n=i),e>=i||e>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(t),o=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)o[a]=r[s];return o.buffer}},function(t,e){function n(){}t.exports=function(t,e,i){var r=!1;return i=i||n,o.count=t,0===t?e():o;function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(r=!0,e(t),e=i):0!==o.count||r||e(null,n)}}},function(t,e){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var n,i,r,o=String.fromCharCode;function s(t){for(var e,n,i=[],r=0,o=t.length;r<o;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<o?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function a(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(t,e){return o(t>>e&63|128)}function l(t,e){if(0==(4294967168&t))return o(t);var n="";return 0==(4294965248&t)?n=o(t>>6&31|192):0==(4294901760&t)?(a(t,e)||(t=65533),n=o(t>>12&15|224),n+=c(t,6)):0==(4292870144&t)&&(n=o(t>>18&7|240),n+=c(t,12),n+=c(t,6)),n+=o(63&t|128)}function u(){if(r>=i)throw Error("Invalid byte index");var t=255&n[r];if(r++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(t){var e,o;if(r>i)throw Error("Invalid byte index");if(r==i)return!1;if(e=255&n[r],r++,0==(128&e))return e;if(192==(224&e)){if((o=(31&e)<<6|u())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if((o=(15&e)<<12|u()<<6|u())>=2048)return a(o,t)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(o=(7&e)<<18|u()<<12|u()<<6|u())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,i=s(t),r=i.length,o=-1,a="";++o<r;)a+=l(i[o],n);return a},decode:function(t,e){var a=!1!==(e=e||{}).strict;n=s(t),i=n.length,r=0;for(var c,l=[];!1!==(c=h(a));)l.push(c);return function(t){for(var e,n=t.length,i=-1,r="";++i<n;)(e=t[i])>65535&&(r+=o((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=o(e);return r}(l)}}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),i=0;i<t.length;i++)n[t.charCodeAt(i)]=i;e.encode=function(e){var n,i=new Uint8Array(e),r=i.length,o="";for(n=0;n<r;n+=3)o+=t[i[n]>>2],o+=t[(3&i[n])<<4|i[n+1]>>4],o+=t[(15&i[n+1])<<2|i[n+2]>>6],o+=t[63&i[n+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,i,r,o,s,a=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(e=0;e<c;e+=4)i=n[t.charCodeAt(e)],r=n[t.charCodeAt(e+1)],o=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],h[l++]=i<<2|r>>4,h[l++]=(15&r)<<4|o>>2,h[l++]=(3&o)<<6|63&s;return u}}()},function(t,e){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),r=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function s(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t}))}function a(t,e){e=e||{};var i=new n;return s(t).forEach((function(t){i.append(t)})),e.type?i.getBlob(e.type):i.getBlob()}function c(t,e){return new Blob(s(t),e||{})}"undefined"!=typeof Blob&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),t.exports=i?r?Blob:c:o?a:void 0},function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return i.colors[Math.abs(e)%i.colors.length]}function i(t){let n;function s(...t){if(!s.enabled)return;const e=s,r=Number(new Date),o=r-(n||r);e.diff=o,e.prev=n,e.curr=r,n=r,t[0]=i.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return n;a++;const o=i.formatters[r];if("function"==typeof o){const i=t[a];n=o.call(e,i),t.splice(a,1),a--}return n}),i.formatArgs.call(e,t);(e.log||i.log).apply(e,t)}return s.namespace=t,s.enabled=i.enabled(t),s.useColors=i.useColors(),s.color=e(t),s.destroy=r,s.extend=o,"function"==typeof i.init&&i.init(s),i.instances.push(s),s}function r(){const t=i.instances.indexOf(this);return-1!==t&&(i.instances.splice(t,1),!0)}function o(t,e){const n=i(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return i.debug=i,i.default=i,i.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},i.disable=function(){const t=[...i.names.map(s),...i.skips.map(s).map(t=>"-"+t)].join(",");return i.enable(""),t},i.enable=function(t){let e;i.save(t),i.names=[],i.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length;for(e=0;e<r;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?i.skips.push(new RegExp("^"+t.substr(1)+"$")):i.names.push(new RegExp("^"+t+"$")));for(e=0;e<i.instances.length;e++){const t=i.instances[e];t.enabled=i.enabled(t.namespace)}},i.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=i.skips.length;e<n;e++)if(i.skips[e].test(t))return!1;for(e=0,n=i.names.length;e<n;e++)if(i.names[e].test(t))return!0;return!1},i.humanize=n(86),Object.keys(t).forEach(e=>{i[e]=t[e]}),i.instances=[],i.names=[],i.skips=[],i.formatters={},i.selectColor=e,i.enable(i.load()),i}},function(t,e){var n=1e3,i=6e4,r=60*i,o=24*r;function s(t,e,n,i){var r=e>=1.5*n;return Math.round(t/n)+" "+i+(r?"s":"")}t.exports=function(t,e){e=e||{};var a=typeof t;if("string"===a&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===a&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return s(t,e,o,"day");if(e>=r)return s(t,e,r,"hour");if(e>=i)return s(t,e,i,"minute");if(e>=n)return s(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=r)return Math.round(t/r)+"h";if(e>=i)return Math.round(t/i)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var i=n(30),r=n(11),o=n(18);t.exports=u;var s,a=/\n/g,c=/\\n/g;function l(){}function u(t){i.call(this,t),this.query=this.query||{},s||(s=o.___eio=o.___eio||[]),this.index=s.length;var e=this;s.push((function(t){e.onData(t)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){e.script&&(e.script.onerror=l)}),!1)}r(u,i),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},u.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},u.prototype.doWrite=function(t,e){var n=this;if(!this.form){var i,r=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=s,r.method="POST",r.setAttribute("accept-charset","utf-8"),o.name="d",r.appendChild(o),document.body.appendChild(r),this.form=r,this.area=o}function l(){u(),e()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';i=document.createElement(t)}catch(t){(i=document.createElement("iframe")).name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),u(),t=t.replace(c,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}},function(t,e,n){(function(e){var i,r,o=n(19),s=n(3),a=n(10),c=n(11),l=n(32),u=n(12)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?i=WebSocket:"undefined"!=typeof self&&(i=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{r=n(89)}catch(t){}var h=i||r;function f(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=i&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=r),o.call(this,t)}t.exports=f,c(f,o),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new h(t,e):new h(t):new h(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},f.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},f.prototype.write=function(t){var n=this;this.writable=!1;for(var i=t.length,r=0,o=i;r<o;r++)!function(t){s.encodePacket(t,n.supportsBinary,(function(r){if(!n.usingBrowserWebSocket){var o={};if(t.options&&(o.compress=t.options.compress),n.perMessageDeflate)("string"==typeof r?e.byteLength(r):r.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(r):n.ws.send(r,o)}catch(t){u("websocket closed before onclose event")}--i||a()}))}(t[r]);function a(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},f.prototype.onClose=function(){o.prototype.onClose.call(this)},f.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},f.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=l()),this.supportsBinary||(t.b64=1),(t=a.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},f.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===f.prototype.name)}}).call(this,n(16).Buffer)},function(t,e){},function(t,e){t.exports=function(t,e){for(var n=[],i=(e=e||0)||0;i<t.length;i++)n[i-e]=t[i];return n}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IoEvent=void 0;var i=function(){function t(t,e){this.ioObj=t,this.evtName=e}return t.prototype.handle=function(t){return this.ioObj.on(this.evtName,t)},t.prototype.fire=function(t){return this.ioObj.emit(this.evtName,t)},t}(),r=function(t){this.ioOobj=t,this.srvTelnetData=new i(this.ioOobj,"srvTelnetData"),this.srvTelnetClosed=new i(this.ioOobj,"srvTelnetClosed"),this.srvTelnetOpened=new i(this.ioOobj,"srvTelnetOpened"),this.srvTelnetError=new i(this.ioOobj,"srvTelnetError"),this.srvSetClientIp=new i(this.ioOobj,"srvSetClientIp"),this.clReqTelnetOpen=new i(this.ioOobj,"clReqTelnetOpen"),this.clReqTelnetClose=new i(this.ioOobj,"clReqTelnetClose"),this.clReqTelnetWrite=new i(this.ioOobj,"clReqTelnetWrite")};e.IoEvent=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.parseNewEnvSeq=e.NewEnv=e.SubNeg=e.ExtOpt=e.TelnetClient=void 0;var s,a,c,l=n(94),u=n(0),h=n(5),f=["TS2 Web Client","ANSI","-256color"],p=function(t){function e(e,n){var i=t.call(this,e)||this;return i.config=n,i.EvtServerEcho=new u.EventHook,i._mxp=!1,i.ttypeIndex=0,i.doNewEnviron=!1,i.EvtNegotiation.handle((function(t){i.onNegotiation(t)})),i}return r(e,t),Object.defineProperty(e.prototype,"mxp",{get:function(){return this._mxp},set:function(t){this._mxp=t;var e="[MXP "+(t?"ABILITATO":"DISABILITATO")+"]";this.EvtData.fire(new Uint8Array(d(e)))},enumerable:!1,configurable:!0}),e.prototype.writeNewEnvVar=function(t,e){this.writeArr([l.Cmd.IAC,l.Cmd.SB,l.Opt.NEW_ENVIRON,c.IS,c.VAR].concat(d(t),[c.VALUE],d(e),[l.Cmd.IAC,l.Cmd.SE]))},e.prototype.handleNewEnvSeq=function(t){for(var e=this,n=g(t),i={IPADDRESS:function(){return e.clientIp},CLIENT_NAME:function(){return f[0]},CLIENT_VERSION:function(){return""+h.AppInfo.Version}},r=0;r<n.length;r++){var s=o(n[r],3),a=s[0],l=s[1],u=s[2];if(a===c.SEND)if(""===u)if(null===l)for(var p in i)this.writeNewEnvVar(p,i[p]());else if(l===c.VAR)for(var p in i)this.writeNewEnvVar(p,i[p]());else c.USERVAR;else l===c.VAR?u in i&&this.writeNewEnvVar(u,i[u]()):c.USERVAR;else console.error("Unexpected action:",n[r])}},e.prototype.onNegotiation=function(t){var e=t.cmd,n=t.opt;if(e===l.Cmd.WILL)n===l.Opt.ECHO?(this.EvtServerEcho.fire(!0),this.writeArr([l.Cmd.IAC,l.Cmd.DO,l.Opt.ECHO])):n===l.Opt.SGA?this.writeArr([l.Cmd.IAC,l.Cmd.DO,l.Opt.SGA]):n===s.MXP?this.config.getDef("mxpEnabled",!0)?this.writeArr([l.Cmd.IAC,l.Cmd.DO,s.MXP]):this.writeArr([l.Cmd.IAC,l.Cmd.WONT,s.MXP]):this.writeArr([l.Cmd.IAC,l.Cmd.DONT,n]);else if(e===l.Cmd.WONT)n===l.Opt.ECHO&&(this.EvtServerEcho.fire(!1),this.writeArr([l.Cmd.IAC,l.Cmd.DONT,l.Opt.ECHO]));else if(e===l.Cmd.DO)n===l.Opt.TTYPE?this.writeArr([l.Cmd.IAC,l.Cmd.WILL,l.Opt.TTYPE]):n==l.Opt.NEW_ENVIRON?(this.writeArr([l.Cmd.IAC,l.Cmd.WILL,l.Opt.NEW_ENVIRON]),this.doNewEnviron=!0):n===s.MXP&&!0===this.config.getDef("mxpEnabled",!0)?this.writeArr([l.Cmd.IAC,l.Cmd.WILL,s.MXP]):n!==s.MXP||this.config.getDef("mxpEnabled",!0)?this.writeArr([l.Cmd.IAC,l.Cmd.WONT,n]):this.writeArr([l.Cmd.IAC,l.Cmd.WONT,s.MXP]);else if(e===l.Cmd.DONT)n===l.Opt.NEW_ENVIRON&&(this.doNewEnviron=!1);else if(e===l.Cmd.SB);else if(e===l.Cmd.SE){var i=this.readSbArr();if(i.length<1)return;if(1===i.length&&i[0]===s.MXP)this.config.getDef("mxpEnabled",!0)?this.mxp=!0:this.mxp=!1;else if(2===i.length&&i[0]===l.Opt.TTYPE&&i[1]===a.SEND){var r=void 0;this.ttypeIndex>=f.length?r=this.clientIp||"UNKNOWNIP":(r=f[this.ttypeIndex],this.ttypeIndex++),this.writeArr([l.Cmd.IAC,l.Cmd.SB,l.Opt.TTYPE,a.IS].concat(d(r),[l.Cmd.IAC,l.Cmd.SE]))}else if(this.doNewEnviron&&i.length>0&&i[0]==l.Opt.NEW_ENVIRON){var o=i.slice(1);this.handleNewEnvSeq(o)}}},e}(l.Telnet);function d(t){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e}function g(t){for(var e=[],n=0,i=null,r=null,o=null,s=null;;){if(null!==r&&null!==o&&null!==s&&(e.push([r,o,s]),r=null,o=null,s=null),n>=t.length){null!=r&&e.push([r,o,s||""]);break}if(null===r){var a=t[n];if(null!==i){if(a===i){r=i,n++;continue}r=i;continue}if(i=r=a,n++,r!==c.SEND){console.error("Only NEW-ENVIRON SEND is supported but got",r);break}}else{if(null===o){if((o=t[n])!==c.VAR&&o!==c.USERVAR){console.error("Only NEW-ENVIRON VAR and USERVAR are supported but got",o);break}n++;continue}for(var l=n;n<t.length&&t[n]>=32&&t[n]<=127;)n++;var u=t.slice(l,n);s=String.fromCharCode.apply(String,u)}}return e}e.TelnetClient=p,function(t){t.MSDP=69,t.MCCP=70,t.MSP=90,t.MXP=91,t.ATCP=200}(s=e.ExtOpt||(e.ExtOpt={})),function(t){t.IS=0,t.SEND=1,t.ACCEPTED=2,t.REJECTED=3}(a=e.SubNeg||(e.SubNeg={})),function(t){t.IS=0,t.SEND=1,t.INFO=2,t.VAR=0,t.VALUE=1,t.ESC=2,t.USERVAR=3}(c=e.NewEnv||(e.NewEnv={})),e.parseNewEnvSeq=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OptName=e.Opt=e.CmdName=e.Cmd=e.Telnet=void 0;var i,r=n(0),o=function(){function t(t){this.iacSeq=[],this.buf=[[],[]],this.sb=0,this.EvtData=new r.EventHook,this.EvtNegotiation=new r.EventHook,this.writeFunc=t}return t.prototype.writeBuff=function(t){this.writeFunc(t)},t.prototype.writeArr=function(t){this.writeFunc(new Uint8Array(t).buffer)},t.prototype.readSbBuff=function(){var t=this.buf[1];return this.buf[1]=[],new Uint8Array(t).buffer},t.prototype.readSbArr=function(){var t=this.buf[1];return this.buf[1]=[],t},t.prototype.handleData=function(t){for(var e=new Uint8Array(t),n=e.length,r=0;r<n;r++){var o=e[r];if(0===this.iacSeq.length){if(o===a)continue;if(17===o)continue;if(o!==i.IAC){this.buf[this.sb].push(o);continue}this.iacSeq.push(o)}else if(1===this.iacSeq.length){if(-1!==[i.DO,i.DONT,i.WILL,i.WONT].indexOf(o)){this.iacSeq.push(o);continue}this.iacSeq=[],o===i.IAC?this.buf[this.sb].push(o):o===i.SB?(this.sb=1,this.buf[1]=[],this.EvtNegotiation.fire({cmd:o,opt:null})):o===i.SE?(this.sb=0,this.EvtNegotiation.fire({cmd:o,opt:null}),this.buf[1]=[]):console.log("IAC "+o+" not recognized")}else if(2===this.iacSeq.length){var s=this.iacSeq[1];this.iacSeq=[];var c=o;if(-1!==[i.SE].indexOf(s)){var l=this.EvtNegotiation.fire({cmd:s,opt:c});console.log("SE "+c+" handled: "+l)}else if(-1!==[i.DO,i.DONT].indexOf(s)){(l=this.EvtNegotiation.fire({cmd:s,opt:c}))||this.writeArr([i.IAC,i.WONT,c])}else if(-1!==[i.WILL,i.WONT].indexOf(s)){this.EvtNegotiation;(l=this.EvtNegotiation.fire({cmd:s,opt:c}))||this.writeArr([i.IAC,i.DONT,c])}}}if(this.buf[0].length>0){var u=new Uint8Array(this.buf[0]);this.EvtData.fire(u.buffer),this.buf[0]=[]}},t}();e.Telnet=o,function(t){t.IAC=255,t.DONT=254,t.DO=253,t.WONT=252,t.WILL=251,t.SE=240,t.NOP=241,t.DM=242,t.BRK=243,t.IP=244,t.AO=245,t.AYT=246,t.EC=247,t.EL=248,t.GA=249,t.SB=250}(i=e.Cmd||(e.Cmd={})),e.CmdName=function(){var t={};for(var e in i)t[i[e]]=e;return function(e){return t[e]}}();var s,a=0;!function(t){t.BINARY=0,t.ECHO=1,t.RCP=2,t.SGA=3,t.NAMS=4,t.STATUS=5,t.TM=6,t.RCTE=7,t.NAOL=8,t.NAOP=9,t.NAOCRD=10,t.NAOHTS=11,t.NAOHTD=12,t.NAOFFD=13,t.NAOVTS=14,t.NAOVTD=15,t.NAOLFD=16,t.XASCII=17,t.LOGOUT=18,t.BM=19,t.DET=20,t.SUPDUP=21,t.SUPDUPOUTPUT=22,t.SNDLOC=23,t.TTYPE=24,t.EOR=25,t.TUID=26,t.OUTMRK=27,t.TTYLOC=28,t.VT3270REGIME=29,t.X3PAD=30,t.NAWS=31,t.TSPEED=32,t.LFLOW=33,t.LINEMODE=34,t.XDISPLOC=35,t.OLD_ENVIRON=36,t.AUTHENTICATION=37,t.ENCRYPT=38,t.NEW_ENVIRON=39,t.TN3270E=40,t.XAUTH=41,t.CHARSET=42,t.RSP=43,t.COM_PORT_OPTION=44,t.SUPPRESS_LOCAL_ECHO=45,t.TLS=46,t.KERMIT=47,t.SEND_URL=48,t.FORWARD_X=49,t.PRAGMA_LOGON=138,t.SSPI_LOGON=139,t.PRAGMA_HEARTBEAT=140,t.EXOPL=255,t.NOOPT=0}(s=e.Opt||(e.Opt={})),e.OptName=function(){var t={};for(var e in s)t[s[e]]=e;return function(e){return t[e]}}()},function(t,e,n){"use strict";var i=n(1),r=n(38),o=n(96),s=n(44);function a(t){var e=new o(t),n=r(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var c=a(n(41));c.Axios=o,c.create=function(t){return a(s(c.defaults,t))},c.Cancel=n(45),c.CancelToken=n(109),c.isCancel=n(40),c.all=function(t){return Promise.all(t)},c.spread=n(110),t.exports=c,t.exports.default=c},function(t,e,n){"use strict";var i=n(1),r=n(39),o=n(97),s=n(98),a=n(44);function c(t){this.defaults=t,this.interceptors={request:new o,response:new o}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},c.prototype.getUri=function(t){return t=a(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}})),t.exports=c},function(t,e,n){"use strict";var i=n(1);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},function(t,e,n){"use strict";var i=n(1),r=n(99),o=n(40),s=n(41);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return a(t),e.data=r(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var i=n(1);t.exports=function(t,e,n){return i.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var i=n(1);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},function(t,e,n){"use strict";var i=n(43);t.exports=function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var i=n(104),r=n(105);t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(1),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(i.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(s[e]&&r.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},function(t,e,n){"use strict";var i=n(1);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i=n(1);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var i=n(45);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerEditor=void 0;var o=function(t){function e(e){var n=t.call(this,"Triggers")||this;return n.triggerManager=e,n.defaultValue="Scrivi qui il valore del tuo trigger.\nPuo' essere 1 o piu' comandi, includento di parametri (e.g. $1) per trigger regex.\n\nPer trigger regex, usa $numero per rappresentare i match della tua regex.\nEsempio: Trigger pattern '(\\w+) e' arrivato.', trigger value 'say Ciao $1', in seguito se 'Vodur e' arrivato.' arriva dal mud, 'say Ciao Vodur' verra' mandato.",n.defaultScript="/* Scrivi la tua script qui.\nQuesto e' il codice javascript che verra eseguito quando l'alias viene lanciato.\nNon puoi creare variabili globali.\nUsa 'var' per creare variabili locali.\nAggiungi valori a 'this' per interagire tra piu script.\nEsempio: this.mio_valore = 123;\nOgni script lanciata usa lo stesso 'this'.\n\nUsa la funzione send() per lanciare comandi al mud. Esempio: send('kill orc');\nUsa la funzione print() per per echo in locale. Esempio: print('Arrivato un avversario!!');\nPer alias regex, 'match' sara il l'array risultato di match della regex, con \ngli indici che sono i gruppi della regex.\n*/\n",n.defaultPattern=null,n}return r(e,t),e.prototype.getList=function(){for(var t=this.triggerManager.triggers,e=[],n=0;n<t.length;n++)e.push((t[n].id||t[n].pattern)+(t[n].class?" <"+t[n].class+">":""));return e},e.prototype.getItem=function(t){var e=this.triggerManager.triggers;return t<0||t>=e.length?null:e[t]},e.prototype.saveItem=function(t,e){t<0?this.triggerManager.triggers.push(e):this.triggerManager.triggers[t]=e,this.triggerManager.saveTriggers()},e.prototype.deleteItem=function(t){this.triggerManager.triggers.splice(t,1),this.triggerManager.saveTriggers()},e}(n(23).TrigAlEditBase);e.TriggerEditor=o},function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerManager=void 0;var o=n(0),s=n(7),a=n(4),c=n(2),l=function(){function t(t,e,n,i,r){var a=this;this.jsScript=t,this.config=e,this.baseConfig=n,this.classManager=i,this.profileManager=r,this.EvtEmitTriggerCmds=new o.EventHook,this.EvtEmitTriggerOutputChanged=new o.EventHook,this.triggers=null,this.allTriggers=null,this.charSent=!1,this.passSent=!1,this.htmlEscapes={"&lt;":"<","&gt;":">","&amp;":"&"};var c=localStorage.getItem("triggers");c&&(this.config.set("triggers",JSON.parse(c)),localStorage.removeItem("triggers")),this.loadTriggers(),e.evtConfigImport.handle((function(){a.loadTriggers(),a.saveTriggers()}),this),s.EvtScriptEmitToggleTrigger.handle(this.onToggle,this)}return t.prototype.onToggle=function(t){if(this.setEnabled(t.id,t.state),this.config.getDef("debugScripts",!1)){var e="Trigger "+t.id+" e' ora "+(this.isEnabled(t.id)?"ABILITATO":"DISABILITATO");s.EvtScriptEmitPrint.fire({owner:"TriggerManager",message:e})}},t.prototype.setEnabled=function(t,e){if(this.getById(t));else if(this.config.getDef("debugScripts",!1)){var n="Trigger "+t+" non esiste!";s.EvtScriptEmitPrint.fire({owner:"TriggerManager",message:n})}},t.prototype.getById=function(t){for(var e=0;e<this.triggers.length;e++){var n=this.triggers[e];if(n.id==t)return n}return null},t.prototype.isEnabled=function(t){var e=this.getById(t);return e&&e.enabled},t.prototype.contains=function(t,e){for(var n=0;n<Math.min(e,this.allTriggers.length);n++){if(this.allTriggers[n].pattern==t)return!0}return!1},t.prototype.mergeTriggers=function(){var t=$.merge([],this.config.get("triggers")||[]);t=$.merge(t,this.baseConfig.get("triggers")||[]),this.allTriggers=t;for(var e=0;e<this.allTriggers.length;e++){var n=this.allTriggers[e];n&&e>0&&this.contains(n.pattern,e)&&(this.allTriggers.splice(e,1),e--)}},t.prototype.saveTriggers=function(){this.config.set("triggers",this.triggers),this.mergeTriggers()},t.prototype.loadTriggers=function(){this.triggers=this.config.get("triggers")||[],this.mergeTriggers()},t.prototype.handleAutologin=function(t){var e=this;if(this.profileManager.getCurrent())if(t.match(/^Che nome vuoi usare ?/))(n=this.profileManager.getProfile(this.profileManager.getCurrent())).autologin&&n.char&&!this.charSent&&(this.charSent=!0,setTimeout((function(){e.charSent=!1}),1e3),this.EvtEmitTriggerCmds.fire({orig:"autologin",cmds:[n.char]}));else if(t.match(/^Inserisci la sua password:/)){var n;if((n=this.profileManager.getProfile(this.profileManager.getCurrent())).autologin&&n.pass&&!this.passSent){this.passSent=!0,setTimeout((function(){e.passSent=!1}),1e3);var i=a.Mudslinger.decrypt(n.pass);this.EvtEmitTriggerCmds.fire({orig:"autologin",cmds:[i,"i","i","i"]})}}},t.prototype.runTrigger=function(t,e){if(t.regex){var n=e.match(t.pattern);if(!n)return;if(t.is_script){if(t.script||(t.script=this.jsScript.makeScript(t.id||t.pattern,t.value,"match, line")),!t.script)throw"Trigger '"+t.pattern+"' is script but the script cannot be initialized";t.script(n,e)}else{var i=t.value,r=(i=i.replace(/\$(\d+)/g,(function(t,e){return n[parseInt(e)]||""}))).replace("\r","").split("\n");this.EvtEmitTriggerCmds.fire({orig:t.id||t.pattern,cmds:r})}}else if(e.includes(t.pattern))if(t.is_script){if(t.script||(t.script=this.jsScript.makeScript(t.id||t.pattern,t.value,"line")),!t.script)throw"Trigger '"+t.pattern+"' is script but the script cannot be initialized";t.script(e)}else{r=t.value.replace("\r","").split("\n");this.EvtEmitTriggerCmds.fire({orig:t.id||t.pattern,cmds:r})}},t.prototype.handleBuffer=function(t,e){if(this.line=null,this.buffer=null,!0!==this.config.getDef("triggersEnabled",!0))return null;this.buffer=e,this.line=t,this.handleAutologin(t);for(var n=0;n<this.allTriggers.length;n++){var i=this.allTriggers[n];!i.enabled||i.class&&!this.classManager.isEnabled(i.class)||i.is_prompt&&this.runTrigger(i,t)}return this.buffer},t.prototype.handleLine=function(t,e){if(this.line=null,this.buffer=null,!0!==this.config.getDef("triggersEnabled",!0))return null;this.buffer=e,this.line=t;for(var n=0;n<this.allTriggers.length;n++){var i=this.allTriggers[n];!i.enabled||i.class&&!this.classManager.isEnabled(i.class)||(i.is_prompt||this.runTrigger(i,this.line))}return this.buffer},t.prototype.doReplace=function(t,e,n,i,o,s){var a=new RegExp(o,"gi").exec(i);if(a&&a.length){var c=a.index,l=c+a[0].length-1,u=[],h=[],f=e[n[c]],p=e[n[l]];"&"==t[p]&&(p+=3);for(var d=[],g=[],m=0;m<f;m++)d.push(t[m]);var v=!1,y=!1,b="",w=!1;for(m=f;m<p;m++)"<"!=t[m]?v&&(">"==t[m]?(y?u.push(b):h.push(b),y=!1,v=!1):(" "==t[m]&&(w=!0),w||(b+=t[m]))):(b="",w=!1,v=!0,m+1<=p&&"/"==t[m+1]&&(y=!0,m++));g.push(s);for(m=0;m<h.length;m++)d.push("<"+h[m]+">");for(m=0;m<u.length;m++)g.push("</"+u[m]+">");for(m=p+1;m<t.length;m++)g.push(t[m]);return r(d,g).join("")}return t},t.prototype.htmlDecode=function(t,e){for(var n in this.htmlEscapes)if(Object.prototype.hasOwnProperty.call(this.htmlEscapes,n)){var i=this.htmlEscapes[n];if(t.substr(e,n.length)==n)return[i,n]}return null},t.prototype.htmlEncode=function(t,e){for(var n in this.htmlEscapes)if(Object.prototype.hasOwnProperty.call(this.htmlEscapes,n)){var i=this.htmlEscapes[n];if(t.substr(e,1)==i)return[n,i]}return null},t.prototype.subBuffer=function(t,e){for(var n=this.buffer,i=this.line.split("\n")[0],r=!1,o=[],s=[],a=0,l=0;l<i.length;l++){var u=this.htmlEncode(i,l);u?(u[0],s.push(l+a),a+=u[0].length-1):(i[l],s.push(l+a))}for(l=0;l<n.length;l++)"<"==n[l]&&(r=!0),r||o.push(l),">"==n[l]&&(r=!1);this.line=i.replace(new RegExp(t,"gi"),-1!=e.indexOf("<span")?c.stripHtml(e):e),this.buffer=this.doReplace(n,o,s,i,t,e),this.EvtEmitTriggerOutputChanged.fire({line:this.line,buffer:this.buffer})},t.prototype.gag=function(){this.buffer="",this.line="",this.EvtEmitTriggerOutputChanged.fire({line:this.line,buffer:this.buffer})},t}();e.TriggerManager=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AboutWin=void 0;var i=n(5),r=function(){function t(){var t=document.createElement("div");t.style.display="none",t.className="winAbout",document.body.appendChild(t),t.innerHTML="\n        \x3c!--header--\x3e\n        <div>INFORMAZIONI</div>\n        \x3c!--content--\x3e\n        <div>\n            <h1>"+i.AppInfo.AppTitle+'</h1>\n            <br>\n            <a href="'+i.AppInfo.RepoUrl+'" target="_blank">'+i.AppInfo.RepoUrl+"</a>\n            <br>\n            Version: "+i.AppInfo.Version+"\n            <br>\n            Build: "+i.AppInfo.Build+"\n        </div>\n        ",this.$win=$(t),this.$win.jqxWindow({width:360,height:200})}return t.prototype.show=function(){this.$win.jqxWindow("open"),this.$win.jqxWindow("bringToFront")},t}();e.AboutWin=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectWin=void 0;var i=function(){function t(t){this.socket=t;var e=document.createElement("div");e.style.display="none",e.className="winConnect",document.body.appendChild(e),e.innerHTML='\n        \x3c!--header--\x3e\n        <div>CONNECTION</div>\n        \x3c!--content--\x3e\n        <div>\n            <table style="margin-left: auto;margin-right: auto;margin-top: auto;margin-bottom: auto">\n                <tr>\n                    <td>Host: </td>\n                    <td colspan=2><input size=40 class="winConnect-inputHost"></td>\n                </tr>\n                <tr>\n                    <td>Port: </td>\n                    <td><input size=10 class="winConnect-inputPort"></td>\n                    <td><button class="winConnect-btnConnect" style="height:100%;width:100%">CONNECT</button></td>\n                </tr>\n            </table>\n        </div>\n        ',this.$win=$(e),this.$connectButton=$(e.getElementsByClassName("winConnect-btnConnect")[0]),this.$hostInput=$(e.getElementsByClassName("winConnect-inputHost")[0]),this.$portInput=$(e.getElementsByClassName("winConnect-inputPort")[0]),this.$win.jqxWindow({width:450,height:150}),this.$connectButton.click(this.handleConnectButtonClick.bind(this)),this.$hostInput.keyup(this.handleKeyUp.bind(this)),this.$portInput.keyup(this.handleKeyUp.bind(this))}return t.prototype.handleKeyUp=function(t){var e=t.key||t.keyCode;"Enter"!=e&&13!=e||this.handleConnectButtonClick()},t.prototype.handleConnectButtonClick=function(){var t=this.$hostInput.val().trim(),e=this.$portInput.val().trim();this.socket.openTelnet(t,e),this.hide()},t.prototype.show=function(){this.$win.jqxWindow("open"),this.$win.jqxWindow("bringToFront")},t.prototype.hide=function(){this.$win.jqxWindow("close")},t}();e.ConnectWin=i},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContactWin=void 0;var o=n(21),s=function(){function t(){var t=document.createElement("div");t.style.display="none",t.className="winContact",document.body.appendChild(t),t.innerHTML='\n        \x3c!--header--\x3e\n        <div>CONTACT</div>\n        \x3c!--content--\x3e\n        <div>\n            <div style="display:flex;flex-direction:column;height:100%">\n                <p>\n                Use this form to report issues, make suggestions, or provide other feedback.\n                If you would like a reply to your message, be sure to enter your email address.\n                </p>\n                </br>\n                <div>Your email address (optional):</div>\n                <input class="winContact-inpEmail">\n                </br>\n                <div>Your message: </div>\n                <textarea class="winContact-text" style="flex:1;resize:none;height:100%"></textarea>\n                <div class="winContact-info"></div>\n                </br>\n                <button class="winContact-btnSend" style="width:100%">SEND</button>\n            </div>\n        </div>\n        ',this.$win=$(t),this.emailInput=t.getElementsByClassName("winContact-inpEmail")[0],this.textArea=t.getElementsByClassName("winContact-text")[0],this.sendButton=t.getElementsByClassName("winContact-btnSend")[0],this.infoDiv=t.getElementsByClassName("winContact-info")[0],this.$win.jqxWindow({width:450,height:400}),$(this.sendButton).click(this.handleSendButtonClick.bind(this))}return t.prototype.handleSendButtonClick=function(){var t=this;this.infoDiv.textContent="";var e=this.textArea.value;if(""===e.trim())return this.infoDiv.textContent="Please enter a message!",void(this.infoDiv.style.color="red");var n=this.emailInput.value;this.emailInput.disabled=!0,this.textArea.disabled=!0,this.sendButton.disabled=!0,this.infoDiv.textContent="Sending message...",this.infoDiv.style.color="",i(t,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,o.apiPostContact(e,n)];case 1:if(!t.sent().data.sent)throw"";return this.infoDiv.textContent="Message was sent! Thanks for the feedback.",this.infoDiv.style.color="",this.textArea.value="",[3,3];case 2:return t.sent(),this.infoDiv.textContent="Message could not be sent...Please try again later.",this.infoDiv.style.color="red",[3,3];case 3:return this.emailInput.disabled=!1,this.textArea.disabled=!1,this.sendButton.disabled=!1,[2]}}))}))},t.prototype.show=function(){this.$win.jqxWindow("open"),this.$win.jqxWindow("bringToFront")},t.prototype.destroy=function(){this.$win.jqxWindow("destroy")},t.prototype.hide=function(){this.$win.jqxWindow("close")},t}();e.ContactWin=s},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ProfilesWindow=void 0;var r=n(46),o=n(6),s=n(2),a=n(4),c=function(){function t(t,e,n){this.manager=t,this.profileWin=e,this.client=n,this.profileCreateChar="Creare un profilo non vuol dire create un personaggio.\n    I personaggi devono essere creati nel terminale del gioco.\n    \n    Un profilo viene legato a uno (o piu') personaggi gia esistenti.\n    \n    Il profilo base connette sempre al server live. E puo' contenere alias e trigger\n    basilari usabili da tutti gli altri profili. Premi il bottone per modificare il profilo\n    base per ulteriori informazioni.";var i=document.createElement("div");i.style.display="none",i.className="winProfiles",document.body.appendChild(i),i.innerHTML='\n        \x3c!--header--\x3e\n        <div>Profilo / Personaggio</div>\n        \x3c!--content--\x3e\n        <div>\n            <div style="display:flex;flex-direction:column;height:100%">\n                <div>\n                    <div class="select-box">\n                        <div class="inner-box">       \n                        <label for="profiles" class="label select-box1"><span class="label-desc"></span> </label>\n                        <select id="profiles" size=1" class="dropdown winProfiles-profiles"></select>\n                        </div>\n                    </div>\n                    <div id=\'jqxComboBox\'></div>\n                </div>\n                <div>\n                    <button title="Crea profilo" class="winProfiles-crea greenbutton">+</button>\n                    <button title="Cancella selezionato" class="winProfiles-elimina redbutton">X</button>\n                    <button title="Modifica selezionato" class="winProfiles-modifica yellowbutton">...</button>\n                    <button class="winProfiles-connect bluebutton">Connettiti</button>\n                </div>\n            </div>\n        </div>\n        ',this.$win=$(i),$(document).mouseup((function(t){var e=$(".select-box");0===e.has(t.target).length&&e.removeClass("open")})),$("select",this.$win).on("click",(function(){$(this).parent(".select-box").toggleClass("open")})),$("select",this.$win).on("change",(function(){var t=$(this).find("option:selected").text(),e=$(this).attr("id");$("[for='"+e+"']").find(".label-desc").html(t)})),$("select",this.$win).on("focus",(function(){$(this).parent().addClass("focused")})),$("select",this.$win).on("blur",(function(){$(this).parent().removeClass("focused")})),this.profileList=$(i.getElementsByClassName("winProfiles-profiles")[0]),this.createButton=i.getElementsByClassName("winProfiles-crea")[0],this.editButton=i.getElementsByClassName("winProfiles-modifica")[0],this.deleteButton=i.getElementsByClassName("winProfiles-elimina")[0],this.connectButton=i.getElementsByClassName("winProfiles-connect")[0],this.profileList.width("100%"),this.load(),this.$win.jqxWindow({width:270,height:120,showCollapseButton:!0}),$(this.createButton).click(this.handleNew.bind(this)),$(this.connectButton).click(this.handleConnectButtonClick.bind(this)),$(this.editButton).click(this.handleEditButtonClick.bind(this)),$(this.deleteButton).click(this.handleDeleteButtonClick.bind(this))}return t.prototype.load=function(){var t,e,n=this;this.profileList.empty();var r=$('<option value="">[Profilo Base]</option>');this.profileList.append(r);try{for(var o=i(this.manager.getProfiles()),s=o.next();!s.done;s=o.next()){var a=s.value,c=this.manager.getCurrent()==a?"selected":"";$(this.profileList).append('<option value="'+a+'" '+c+">"+a+"</option>")}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}var l=$('<option value="-1">&lt;... Crea nuovo ...&gt;</option>');this.profileList.append(l),this.profileList.val(this.manager.getCurrent()).change(),this.profileList.change((function(){var t=n.profileList.val();n.handleSelectClick(t)}))},t.prototype.handleNew=function(){var t=this,e=new r.Profile;this.load(),this.profileWin.show(e,(function(n){e.pass=a.Mudslinger.encrypt(e.pass),t.manager.create(e),t.load()}))},t.prototype.handleSelectClick=function(t){"-1"==t&&this.handleNew()},t.prototype.handleConnectButtonClick=function(){var t=this;"-1"!=this.profileList.val()&&this.manager.setCurrent(this.profileList.val());var e=function(){if(t.manager.getCurrent()){var e=t.manager.getProfile(t.manager.getCurrent());t.client.connect({host:e.host,port:Number(e.port)}),t.hide()}else t.client.connect({host:"mud.temporasanguinis.it",port:4e3}),t.hide()};this.client.connected?o.messagebox("Avvertenza","Sei gia' connesso.\n\n            Se preferisci disconnetterti in modo normale dal gioco premi No.\n            Se invece vuoi forzare la disconessione premi Si.\n\n            <b>Vuoi forzare la disconessione?</b>\n            ",(function(n){"Si"==n&&(t.client.disconnect(),e())}),"No","Si",480,null):e()},t.prototype.handleEditButtonClick=function(){var t=this;if(this.profileList.val()){var e=this.manager.getProfile(this.profileList.val()),n=this.profileList.val(),i=e.pass;this.profileWin.show(e,(function(e){i!=e.pass&&(e.pass=a.Mudslinger.encrypt(e.pass)),n!=e.name?t.manager.rename(e,n):t.manager.saveProfiles(),t.load()}))}else o.messagebox("Avvertenza","Il profilo base non puo' essere modificato.\n            Esso connette al server principale senza nessun autologin.\n            Quello che puo' essere fatto e' importare i trigger e alias raccomandati.\n\n            N.b.: Gli alias e trigger del profilo base sono acessibili in tutti i profili/personaggi.\n                  Si puo' sopprimere i trigger e alias di base con alias e trigger di pattern identico\n                  creati nel profilo privato del personaggio.\n\n            <b>Vuoi importare i trigger e alias raccomandati nel profilo base?</b>\n            ",(function(){}),"Si","No",480,null)},t.prototype.handleDeleteButtonClick=function(){var t=this;"-1"!=this.profileList.val()&&(this.profileList.val()?o.messagebox("Domanda","<b>Sei sicuro di voler cancellare\n            il profilo <u>"+this.profileList.val()+"</u></b>?\n\n            N.B: un profilo cancellato cancella anche i trigger e gli alias in esso.\n                 Non c'e' modo di recuperarlo una volta cancellato.\n            ",(function(e){"Si"==e&&(t.manager.delete(t.manager.getProfile(t.profileList.val())),t.load())}),"Si","No",380,null):o.messagebox("Avvertenza","Il profilo base non puo' essere cancellato.\n            Se volevi cancellare un'altro profilo, prima selezionalo.\n            ",(function(){}),"Ok","",280,140))},t.prototype.show=function(){this.load(),s.Acknowledge("profileCreateChar",this.profileCreateChar),this.$win.jqxWindow("open"),this.$win.jqxWindow("bringToFront")},t.prototype.destroy=function(){this.$win.jqxWindow("destroy")},t.prototype.hide=function(){this.$win.jqxWindow("close")},t}();e.ProfilesWindow=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileWindow=void 0;var i=n(6),r=function(){function t(t){var e=this;this.manager=t;var n=document.createElement("div");n.style.display="none",n.className="winProfile",document.body.appendChild(n),n.innerHTML='\n        \x3c!--header--\x3e\n        <div>Profilo</div>\n        \x3c!--content--\x3e\n        <div>\n            <div style="display:table;width:100%;height:100%;padding:10px;box-sizing: border-box">\n                <div style="display:table-row;">\n                    <div style="display:table-cell;text-align:right;vertical-align: middle;">\n                        <label style="margin-right:10px;">Nome profilo</label>\n                    </div>\n                    <div style="display:table-cell;vertical-align: middle;">\n                        <input id="nomeprofilo" style="margin-top:5px;width:100%;" title="Il nome del profilo" placeholder="&lt;Il nome del profilo&gt;"type="text"/>\n                    </div>\n                </div>\n                <div style="display:table-row;">\n                    <div style="display:table-cell;text-align:right;vertical-align: middle;">\n                        <label style="margin-right:10px;">Server</label>\n                    </div>\n                    <div style="display:table-cell;vertical-align: middle;">\n                        <div class="select-box" style="margin-left:-10px;margin-right:-10px;">   \n                            <div class="inner-box">    \n                                <label for="serverName" class="label select-box1"><span class="label-desc"></span> </label>\n                                <select id="serverName" size=1" class="dropdown serverName">\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div style="display:table-row;">\n                    <div style="display:table-cell;text-align:right;vertical-align: middle;">\n                        <label style="margin-right:10px;">Personaggio</label>\n                    </div>\n                    <div style="display:table-cell;vertical-align: middle;">\n                        <input id="nomepg" style="margin-top:5px;width:100%;" title="Il nome del personaggio" placeholder="&lt;Il nome del personaggio&gt;" type="text"/>\n                    </div>\n                </div>\n                <div style="display:table-row;">\n                    <div style="display:table-cell;text-align:right;vertical-align: middle;">\n                        <label style="margin-right:10px;">Password</label>\n                    </div>\n                    <div style="display:table-cell;vertical-align: middle;">\n                        <input id="password" style="margin-top:5px;width:100%;" title="La password del personaggio" placeholder="&lt;Password: opzionale&gt;" type="password"/>\n                    </div>\n                </div>\n                <div style="display:table-row;">\n                    <div style="display:table-cell;text-align:right;vertical-align: middle;">\n                        <label style="margin-right:10px;">Autologin<input type="checkbox" class="winProfile-autologin" /></label>\n                    </div>\n                    <div style="display:table-cell;vertical-align: middle;">\n                        <div class="messageboxbuttons" style="margin-top: 10px;display: inline-block;float:right;">\n                            <button title="Applica" class="acceptbutton greenbutton">Accetta</button>\n                            <button title="Annulla" class="cancelbutton redbutton">Annulla</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        ',this.$win=$(n),this.$char=$("#nomepg",this.$win),this.$pass=$("#password",this.$win),this.$autoLogin=$(".winProfile-autologin",this.$win),this.$autoLogin.change((function(){e.$autoLogin.is(":checked")?(e.$char.removeAttr("disabled"),e.$pass.removeAttr("disabled")):(e.$char.attr("disabled","disabled"),e.$pass.attr("disabled","disabled"))})),this.$autoLogin.prop("checked",!1).trigger("change"),$("select",this.$win).on("click",(function(){$(this).parent(".select-box").toggleClass("open")})),$("select",this.$win).on("change",(function(){var t=$(this).find("option:selected").text(),e=$(this).attr("id");$("[for='"+e+"']").find(".label-desc").html(t)})),$("select",this.$win).on("focus",(function(){$(this).parent().addClass("focused")})),$("select",this.$win).on("blur",(function(){$(this).parent().removeClass("focused")})),this.$serverList=$(n.getElementsByClassName("serverName")[0]),this.$name=$("#nomeprofilo",this.$win),this.okButton=n.getElementsByClassName("acceptbutton")[0],this.cancelButton=n.getElementsByClassName("cancelbutton")[0],this.$win.jqxWindow({width:370,height:220,showCollapseButton:!0,isModal:!0}),$(this.okButton).click(this.handleOk.bind(this)),$(this.cancelButton).click(this.handleCancelClick.bind(this)),this.$win.jqxWindow("close")}return t.prototype.handleOk=function(){!this.$name.val()||this.$name.val().length<3?this.handleError("Il profilo deve avere almeno 3 caratteri!"):1!=this.$autoLogin.prop("checked")||this.$char.val()&&!(this.$char.val().length<3)?1!=this.$autoLogin.prop("checked")||this.$pass.val()&&!(this.$pass.val().length<3)?(this.apply(),this.hide(),this.callback(this.profile)):this.handleError("Se usi autologin devi dare la password del pg (con almeno tre lettere)."):this.handleError("Se usi autologin devi dare il nome del pg (con almeno tre lettere).")},t.prototype.handleCancelClick=function(){this.hide()},t.prototype.handleError=function(t){i.messagebox("Errore","\n            <b>"+t+"</b>\n            ",(function(){}),"Ok","",380,null)},t.prototype.apply=function(){this.profile.host="mud.temporasanguinis.it","Live"==this.$serverList.val()?this.profile.port="4000":this.profile.port="6000",this.profile.autologin=this.$autoLogin.prop("checked"),this.profile.name=this.$name.val(),this.profile.char=this.$char.val(),this.profile.pass=this.$pass.val()},t.prototype.load=function(){var t,e,n,i="6000"==this.profile.port?"Tester":"Live";this.$serverList.empty();var r=$('<option value="Live" '+("Live"==i?"selected":"")+">Live</option>");this.$serverList.append(r);var o=$('<option value="Tester" '+("Tester"==i?"selected":"")+">Tester</option>");this.$serverList.append(o),this.$serverList.val(i).change(),this.$autoLogin.prop("checked",this.profile.autologin).trigger("change"),this.$name.val(null!==(t=this.profile.name)&&void 0!==t?t:""),this.$char.val(null!==(e=this.profile.char)&&void 0!==e?e:""),this.$pass.val(null!==(n=this.profile.pass)&&void 0!==n?n:"")},t.prototype.show=function(t,e){this.profile=t,this.callback=e,this.load(),this.$win.jqxWindow("open"),this.$win.jqxWindow("bringToFront")},t.prototype.destroy=function(){this.$win.jqxWindow("destroy")},t.prototype.hide=function(){this.$win.jqxWindow("close")},t}();e.ProfileWindow=r},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.WindowManager=void 0;var s=n(119),a=n(0),c=function(){function t(t){var e=this;this.profileManager=t,this.windows=new Map,this.EvtEmitWindowsChanged=new a.EventHook,t.evtProfileChanged.handle((function(t){e.load()})),this.load()}return t.prototype.load=function(){var t,e,n;if(n=this.profileManager.getCurrent()){var r=this.profileManager.getProfile(n).windows;if(this.deleteWindows(),r)try{for(var o=i(r),s=o.next();!s.done;s=o.next()){var a=s.value;this.windows.set(a.name,{window:null,output:null,data:a})}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}else this.deleteWindows()},t.prototype.deleteWindows=function(){this.windows.forEach((function(t,e){t.window&&t.window.jqxWindow("destroy"),t.output&&delete t.output})),this.windows.clear()},t.prototype.createWindow=function(t){if(this.windows.has(t)&&this.windows.get(t).output)return this.windows.get(t);var e=document.createElement("div");e.style.display="none",e.className="win-"+t+" customWindow",document.body.appendChild(e),e.innerHTML="\n        \x3c!--header--\x3e\n        <div>"+t+'</div>\n        \x3c!--content--\x3e\n        <div>\n            <div class="'+$("#winOutput")[0].classList+'" id="win-'+t+'"></div>\n        </div>\n        ';var n=$(e),i=this.windows.get(t),r=n.jqxWindow({width:450,height:150,showCollapseButton:!0,autoOpen:!1});i&&i.data&&(n.jqxWindow("move",i.data.x,i.data.y),n.jqxWindow("resize",i.data.w,i.data.h));var a=this;r.on("moved",(function(e){var n=a.windows.get(t).data;n.x=e.args.x,n.y=e.args.y,a.save()})),r.on("resized",(function(e){var n=a.windows.get(t).data;n.w=e.args.width,n.h=e.args.height,a.save()})),r.on("open",(function(e){$(e.target).data("firsttime")||($(e.target).data("firsttime",!0),i&&i.data&&i.data.collapsed&&setTimeout((function(){r.jqxWindow("collapse")}),200)),a.windows.get(t).data.visible=!0,a.save()})),r.on("close",(function(e){a.windows.get(t).data.visible=!1,a.save()})),r.on("collapse",(function(e){a.windows.get(t).data.collapsed=!0,a.save()})),r.on("expand",(function(e){a.windows.get(t).data.collapsed=!1,a.save()}));var c=new s.CustomWin("win-"+t,this.profileManager.activeConfig),l={window:r,output:c,data:{name:t,w:450,h:150,x:100,y:100,visible:!0,collapsed:!1}};this.windows.set(t,l),(i&&i.data.visible||!i)&&this.show(t),i.data.collapsed&&n.jqxWindow("collapse"),l.data.w=r.jqxWindow("width"),l.data.w=r.jqxWindow("height");var u=r.offset();return l.data.x=u.left,l.data.y=u.top,l.data.collapsed=r.jqxWindow("collapsed"),l.data.visible=!0,this.save(),this.EvtEmitWindowsChanged.fire(o(this.windows.keys())),l},t.prototype.save=function(){var t=o(this.windows.values()).map((function(t){return t.data}));this.profileManager.saveWindows(t)},t.prototype.show=function(t){var e=this.windows.get(t);e.window.jqxWindow("open"),e.window.jqxWindow("bringToFront")},t.prototype.hide=function(t){this.windows.get(t).window.jqxWindow("close")},t}();e.WindowManager=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomWin=void 0;var o=n(25),s=n(2),a=function(t){function e(e,n){return t.call(this,$("#"+e),n)||this}return r(e,t),e.prototype.write=function(t,e){this.lineText=-1!=t.indexOf("<span")?s.stripHtml(t):t,this.appendBuffer=e,this.appendToCurrentTarget(this.appendBuffer),this.newLine(),this.outputDone()},e.prototype.writeLine=function(t,e){this.lineText=-1!=t.indexOf("<span")?s.stripHtml(t):t,this.appendBuffer=e+"<br>",this.appendToCurrentTarget(this.appendBuffer),this.newLine(),this.outputDone()},e}(o.OutWinBase);e.CustomWin=a}]);